ARM GAS  /tmp/cczGGbmv.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"stm32f1xx_hal_pcd.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.HAL_PCD_MspInit,"ax",%progbits
  20              		.align	2
  21              		.weak	HAL_PCD_MspInit
  22              		.thumb
  23              		.thumb_func
  25              	HAL_PCD_MspInit:
  26              	.LFB66:
  27              		.file 1 "./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c"
   1:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
   2:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ******************************************************************************
   3:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @file    stm32f1xx_hal_pcd.c
   4:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @author  MCD Application Team
   5:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @version V1.1.1
   6:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @date    12-May-2017
   7:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief   PCD HAL module driver.
   8:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *          This file provides firmware functions to manage the following 
   9:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *          functionalities of the USB Peripheral Controller:
  10:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + Initialization and de-initialization functions
  11:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + IO operation functions
  12:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + Peripheral Control functions 
  13:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + Peripheral State functions
  14:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  15:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   @verbatim
  16:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ==============================================================================
  17:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                     ##### How to use this driver #####
  18:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ==============================================================================
  19:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
  20:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       The PCD HAL driver can be used as follows:
  21:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  22:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Declare a PCD_HandleTypeDef handle structure, for example:
  23:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          PCD_HandleTypeDef  hpcd;
  24:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  25:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Fill parameters of Init structure in HCD handle
  26:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  27:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Call HAL_PCD_Init() API to initialize the HCD peripheral (Core, Device core, ...)
  28:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  29:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Initialize the PCD low level resources through the HAL_PCD_MspInit() API:
  30:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Enable the PCD/USB Low Level interface clock using the following macro
  31:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               (+++) __HAL_RCC_USB_CLK_ENABLE(); For USB Device FS peripheral available
ARM GAS  /tmp/cczGGbmv.s 			page 2


  32:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                     on STM32F102xx and STM32F103xx devices
  33:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               (+++) __HAL_RCC_USB_OTG_FS_CLK_ENABLE(); For USB OTG FS peripheral available
  34:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                     on STM32F105xx and STM32F107xx devices 
  35:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  36:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Initialize the related GPIO clocks
  37:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Configure PCD pin-out
  38:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Configure PCD NVIC interrupt
  39:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  40:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#)Associate the Upper USB device stack to the HAL PCD Driver:
  41:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) hpcd.pData = pdev;
  42:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  43:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#)Enable HCD transmission and reception:
  44:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) HAL_PCD_Start();
  45:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  46:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   @endverbatim
  47:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ******************************************************************************
  48:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @attention
  49:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  50:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  51:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  52:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * Redistribution and use in source and binary forms, with or without modification,
  53:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * are permitted provided that the following conditions are met:
  54:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  55:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      this list of conditions and the following disclaimer.
  56:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  57:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      this list of conditions and the following disclaimer in the documentation
  58:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      and/or other materials provided with the distribution.
  59:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  60:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      may be used to endorse or promote products derived from this software
  61:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      without specific prior written permission.
  62:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  63:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  64:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  65:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  66:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  67:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  68:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  69:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  70:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  71:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  72:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  73:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  74:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ******************************************************************************
  75:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
  76:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  77:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Includes ------------------------------------------------------------------*/
  78:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #include "stm32f1xx_hal.h"
  79:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  80:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @addtogroup STM32F1xx_HAL_Driver
  81:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
  82:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
  83:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  84:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  85:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  86:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #ifdef HAL_PCD_MODULE_ENABLED
  87:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  88:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined(STM32F102x6) || defined(STM32F102xB) || \
ARM GAS  /tmp/cczGGbmv.s 			page 3


  89:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     defined(STM32F103x6) || defined(STM32F103xB) || \
  90:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     defined(STM32F103xE) || defined(STM32F103xG) || \
  91:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     defined(STM32F105xC) || defined(STM32F107xC)
  92:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  93:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD PCD
  94:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief PCD HAL module driver
  95:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
  96:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
  97:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  98:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private types -------------------------------------------------------------*/
  99:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private variables ---------------------------------------------------------*/
 100:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private constants ---------------------------------------------------------*/
 101:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private macros ------------------------------------------------------------*/
 102:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Private_Macros PCD Private Macros
 103:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 104:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */ 
 105:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #define PCD_MIN(a, b)  (((a) < (b)) ? (a) : (b))
 106:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #define PCD_MAX(a, b)  (((a) > (b)) ? (a) : (b))
 107:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 108:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 109:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 110:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 111:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private functions ---------------------------------------------------------*/
 112:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Private_Functions PCD Private Functions
 113:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 114:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 115:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB_OTG_FS)
 116:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_WriteEmptyTxFifo(PCD_HandleTypeDef *hpcd, uint32_t epnum);
 117:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB_OTG_FS */
 118:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 119:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB)
 120:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_EP_ISR_Handler(PCD_HandleTypeDef *hpcd);
 121:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB */
 122:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 123:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 124:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 125:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 126:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Exported functions --------------------------------------------------------*/
 127:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions PCD Exported Functions
 128:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 129:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 130:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 131:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group1 Initialization and de-initialization functions 
 132:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief    Initialization and Configuration functions 
 133:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
 134:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
 135:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 136:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ##### Initialization and de-initialization functions #####
 137:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 138:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]  This section provides functions allowing to:
 139:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 140:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
 141:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 142:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 143:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 144:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 145:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Initializes the PCD according to the specified
ARM GAS  /tmp/cczGGbmv.s 			page 4


 146:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *         parameters in the PCD_InitTypeDef and create the associated handle.
 147:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 148:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 149:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 150:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Init(PCD_HandleTypeDef *hpcd)
 151:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 152:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t index = 0U;
 153:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 154:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 155:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(hpcd == NULL)
 156:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 157:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     return HAL_ERROR;
 158:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 159:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 160:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the parameters */
 161:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   assert_param(IS_PCD_ALL_INSTANCE(hpcd->Instance));
 162:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 163:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(hpcd->State == HAL_PCD_STATE_RESET)
 164:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {  
 165:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Allocate lock resource and initialize it */
 166:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Lock = HAL_UNLOCKED;
 167:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 168:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 169:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_MspInit(hpcd);
 170:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 171:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 172:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_BUSY;
 173:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 174:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Disable the Interrupts */
 175:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_PCD_DISABLE(hpcd);
 176:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 177:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /*Init the Core (common init.) */
 178:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_CoreInit(hpcd->Instance, hpcd->Init);
 179:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 180:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Force Device Mode*/
 181:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_SetCurrentMode(hpcd->Instance , USB_DEVICE_MODE);
 182:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 183:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Init endpoints structures */
 184:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   for (index = 0U; index < 15U ; index++)
 185:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 186:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Init ep structure */
 187:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].is_in = 1U;
 188:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].num = index;
 189:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].tx_fifo_num = index;
 190:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Control until ep is actvated */
 191:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].type = EP_TYPE_CTRL;
 192:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].maxpacket =  0U;
 193:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].xfer_buff = 0U;
 194:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].xfer_len = 0U;
 195:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 196:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 197:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   for (index = 0U; index < 15U ; index++)
 198:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 199:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].is_in = 0U;
 200:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].num = index;
 201:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].tx_fifo_num = index;
 202:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Control until ep is activated */
ARM GAS  /tmp/cczGGbmv.s 			page 5


 203:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].type = EP_TYPE_CTRL;
 204:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].maxpacket = 0U;
 205:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].xfer_buff = 0U;
 206:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].xfer_len = 0U;
 207:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 208:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 209:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Init Device */
 210:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevInit(hpcd->Instance, hpcd->Init);
 211:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 212:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->USB_Address = 0U;
 213:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State= HAL_PCD_STATE_READY;
 214:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 215:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevDisconnect (hpcd->Instance);  
 216:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 217:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 218:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 219:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 220:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  DeInitializes the PCD peripheral 
 221:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 222:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 223:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 224:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DeInit(PCD_HandleTypeDef *hpcd)
 225:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 226:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 227:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(hpcd == NULL)
 228:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 229:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     return HAL_ERROR;
 230:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 231:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 232:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_BUSY;
 233:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 234:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Stop Device */
 235:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCD_Stop(hpcd);
 236:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 237:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* DeInit the low level hardware */
 238:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCD_MspDeInit(hpcd);
 239:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 240:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_RESET; 
 241:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 242:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 243:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 244:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 245:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 246:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Initializes the PCD MSP.
 247:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 248:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 249:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 250:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** __weak void HAL_PCD_MspInit(PCD_HandleTypeDef *hpcd)
 251:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
  28              		.loc 1 251 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  34 0000 7047     		bx	lr
  35              		.cfi_endproc
ARM GAS  /tmp/cczGGbmv.s 			page 6


  36              	.LFE66:
  38 0002 00BF     		.section	.text.HAL_PCD_Init,"ax",%progbits
  39              		.align	2
  40              		.global	HAL_PCD_Init
  41              		.thumb
  42              		.thumb_func
  44              	HAL_PCD_Init:
  45              	.LFB64:
 151:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t index = 0U;
  46              		.loc 1 151 0
  47              		.cfi_startproc
  48              		@ args = 0, pretend = 0, frame = 0
  49              		@ frame_needed = 0, uses_anonymous_args = 0
  50              	.LVL1:
 155:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
  51              		.loc 1 155 0
  52 0000 0028     		cmp	r0, #0
  53 0002 67D0     		beq	.L9
 151:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t index = 0U;
  54              		.loc 1 151 0
  55 0004 F0B5     		push	{r4, r5, r6, r7, lr}
  56              	.LCFI0:
  57              		.cfi_def_cfa_offset 20
  58              		.cfi_offset 4, -20
  59              		.cfi_offset 5, -16
  60              		.cfi_offset 6, -12
  61              		.cfi_offset 7, -8
  62              		.cfi_offset 14, -4
  63 0006 87B0     		sub	sp, sp, #28
  64              	.LCFI1:
  65              		.cfi_def_cfa_offset 48
  66 0008 0446     		mov	r4, r0
 163:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {  
  67              		.loc 1 163 0
  68 000a 90F82934 		ldrb	r3, [r0, #1065]	@ zero_extendqisi2
  69 000e 13F0FF0F 		tst	r3, #255
  70 0012 04D1     		bne	.L4
 166:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  71              		.loc 1 166 0
  72 0014 0023     		movs	r3, #0
  73 0016 80F82834 		strb	r3, [r0, #1064]
 169:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
  74              		.loc 1 169 0
  75 001a FFF7FEFF 		bl	HAL_PCD_MspInit
  76              	.LVL2:
  77              	.L4:
 172:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
  78              		.loc 1 172 0
  79 001e 0323     		movs	r3, #3
  80 0020 84F82934 		strb	r3, [r4, #1065]
 175:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  81              		.loc 1 175 0
  82 0024 2068     		ldr	r0, [r4]
  83 0026 FFF7FEFF 		bl	USB_DisableGlobalInt
  84              	.LVL3:
 178:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
  85              		.loc 1 178 0
ARM GAS  /tmp/cczGGbmv.s 			page 7


  86 002a 2546     		mov	r5, r4
  87 002c 55F8107B 		ldr	r7, [r5], #16
  88 0030 6E46     		mov	r6, sp
  89 0032 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
  90 0034 0FC6     		stmia	r6!, {r0, r1, r2, r3}
  91 0036 2B68     		ldr	r3, [r5]
  92 0038 3360     		str	r3, [r6]
  93 003a 231D     		adds	r3, r4, #4
  94 003c 0ECB     		ldmia	r3, {r1, r2, r3}
  95 003e 3846     		mov	r0, r7
  96 0040 FFF7FEFF 		bl	USB_CoreInit
  97              	.LVL4:
 181:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
  98              		.loc 1 181 0
  99 0044 0021     		movs	r1, #0
 100 0046 2068     		ldr	r0, [r4]
 101 0048 FFF7FEFF 		bl	USB_SetCurrentMode
 102              	.LVL5:
 184:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 103              		.loc 1 184 0
 104 004c 0023     		movs	r3, #0
 105 004e 10E0     		b	.L5
 106              	.LVL6:
 107              	.L6:
 187:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].num = index;
 108              		.loc 1 187 0 discriminator 3
 109 0050 04EB4312 		add	r2, r4, r3, lsl #5
 110 0054 0121     		movs	r1, #1
 111 0056 82F82910 		strb	r1, [r2, #41]
 188:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].tx_fifo_num = index;
 112              		.loc 1 188 0 discriminator 3
 113 005a 82F82830 		strb	r3, [r2, #40]
 189:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Control until ep is actvated */
 114              		.loc 1 189 0 discriminator 3
 115 005e 9386     		strh	r3, [r2, #52]	@ movhi
 191:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].maxpacket =  0U;
 116              		.loc 1 191 0 discriminator 3
 117 0060 0021     		movs	r1, #0
 118 0062 82F82B10 		strb	r1, [r2, #43]
 192:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].xfer_buff = 0U;
 119              		.loc 1 192 0 discriminator 3
 120 0066 9163     		str	r1, [r2, #56]
 193:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].xfer_len = 0U;
 121              		.loc 1 193 0 discriminator 3
 122 0068 D163     		str	r1, [r2, #60]
 194:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 123              		.loc 1 194 0 discriminator 3
 124 006a 9A1C     		adds	r2, r3, #2
 125 006c 5201     		lsls	r2, r2, #5
 126 006e A150     		str	r1, [r4, r2]
 184:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 127              		.loc 1 184 0 discriminator 3
 128 0070 0133     		adds	r3, r3, #1
 129              	.LVL7:
 130              	.L5:
 184:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 131              		.loc 1 184 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/cczGGbmv.s 			page 8


 132 0072 0E2B     		cmp	r3, #14
 133 0074 ECD9     		bls	.L6
 134 0076 0023     		movs	r3, #0
 135              	.LVL8:
 136 0078 12E0     		b	.L7
 137              	.LVL9:
 138              	.L8:
 199:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].num = index;
 139              		.loc 1 199 0 is_stmt 1 discriminator 3
 140 007a 04EB4312 		add	r2, r4, r3, lsl #5
 141 007e 0021     		movs	r1, #0
 142 0080 82F82912 		strb	r1, [r2, #553]
 200:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].tx_fifo_num = index;
 143              		.loc 1 200 0 discriminator 3
 144 0084 82F82832 		strb	r3, [r2, #552]
 201:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Control until ep is activated */
 145              		.loc 1 201 0 discriminator 3
 146 0088 9386     		strh	r3, [r2, #52]	@ movhi
 203:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].maxpacket = 0U;
 147              		.loc 1 203 0 discriminator 3
 148 008a 82F82B12 		strb	r1, [r2, #555]
 204:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].xfer_buff = 0U;
 149              		.loc 1 204 0 discriminator 3
 150 008e C2F83812 		str	r1, [r2, #568]
 205:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].xfer_len = 0U;
 151              		.loc 1 205 0 discriminator 3
 152 0092 C2F83C12 		str	r1, [r2, #572]
 206:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 153              		.loc 1 206 0 discriminator 3
 154 0096 03F11202 		add	r2, r3, #18
 155 009a 5201     		lsls	r2, r2, #5
 156 009c A150     		str	r1, [r4, r2]
 197:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 157              		.loc 1 197 0 discriminator 3
 158 009e 0133     		adds	r3, r3, #1
 159              	.LVL10:
 160              	.L7:
 197:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 161              		.loc 1 197 0 is_stmt 0 discriminator 1
 162 00a0 0E2B     		cmp	r3, #14
 163 00a2 EAD9     		bls	.L8
 210:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 164              		.loc 1 210 0 is_stmt 1
 165 00a4 2546     		mov	r5, r4
 166 00a6 55F8107B 		ldr	r7, [r5], #16
 167 00aa 6E46     		mov	r6, sp
 168 00ac 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 169              	.LVL11:
 170 00ae 0FC6     		stmia	r6!, {r0, r1, r2, r3}
 171 00b0 2B68     		ldr	r3, [r5]
 172 00b2 3360     		str	r3, [r6]
 173 00b4 231D     		adds	r3, r4, #4
 174 00b6 0ECB     		ldmia	r3, {r1, r2, r3}
 175 00b8 3846     		mov	r0, r7
 176 00ba FFF7FEFF 		bl	USB_DevInit
 177              	.LVL12:
 212:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State= HAL_PCD_STATE_READY;
ARM GAS  /tmp/cczGGbmv.s 			page 9


 178              		.loc 1 212 0
 179 00be 0025     		movs	r5, #0
 180 00c0 84F82450 		strb	r5, [r4, #36]
 213:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 181              		.loc 1 213 0
 182 00c4 0123     		movs	r3, #1
 183 00c6 84F82934 		strb	r3, [r4, #1065]
 215:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 184              		.loc 1 215 0
 185 00ca 2068     		ldr	r0, [r4]
 186 00cc FFF7FEFF 		bl	USB_DevDisconnect
 187              	.LVL13:
 216:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 188              		.loc 1 216 0
 189 00d0 2846     		mov	r0, r5
 190 00d2 01E0     		b	.L3
 191              	.LVL14:
 192              	.L9:
 193              	.LCFI2:
 194              		.cfi_def_cfa_offset 0
 195              		.cfi_restore 4
 196              		.cfi_restore 5
 197              		.cfi_restore 6
 198              		.cfi_restore 7
 199              		.cfi_restore 14
 157:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 200              		.loc 1 157 0
 201 00d4 0120     		movs	r0, #1
 202              	.LVL15:
 203 00d6 7047     		bx	lr
 204              	.LVL16:
 205              	.L3:
 206              	.LCFI3:
 207              		.cfi_def_cfa_offset 48
 208              		.cfi_offset 4, -20
 209              		.cfi_offset 5, -16
 210              		.cfi_offset 6, -12
 211              		.cfi_offset 7, -8
 212              		.cfi_offset 14, -4
 217:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 213              		.loc 1 217 0
 214 00d8 07B0     		add	sp, sp, #28
 215              	.LCFI4:
 216              		.cfi_def_cfa_offset 20
 217              		@ sp needed
 218 00da F0BD     		pop	{r4, r5, r6, r7, pc}
 219              		.cfi_endproc
 220              	.LFE64:
 222              		.section	.text.HAL_PCD_MspDeInit,"ax",%progbits
 223              		.align	2
 224              		.weak	HAL_PCD_MspDeInit
 225              		.thumb
 226              		.thumb_func
 228              	HAL_PCD_MspDeInit:
 229              	.LFB67:
 252:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 253:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
ARM GAS  /tmp/cczGGbmv.s 			page 10


 254:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 255:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_MspInit could be implemented in the user file
 256:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 257:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 258:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 259:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 260:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  DeInitializes PCD MSP.
 261:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 262:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 263:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 264:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** __weak void HAL_PCD_MspDeInit(PCD_HandleTypeDef *hpcd)
 265:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 230              		.loc 1 265 0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 0
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234              		@ link register save eliminated.
 235              	.LVL17:
 236 0000 7047     		bx	lr
 237              		.cfi_endproc
 238              	.LFE67:
 240 0002 00BF     		.section	.text.HAL_PCD_Start,"ax",%progbits
 241              		.align	2
 242              		.global	HAL_PCD_Start
 243              		.thumb
 244              		.thumb_func
 246              	HAL_PCD_Start:
 247              	.LFB68:
 266:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 267:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 268:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 269:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_MspDeInit could be implemented in the user file
 270:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 271:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 272:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 273:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 274:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 275:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 276:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 277:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group2 IO operation functions 
 278:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief   Data transfers functions 
 279:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
 280:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
 281:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 282:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                       ##### IO operation functions #####
 283:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 284:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
 285:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     This subsection provides a set of functions allowing to manage the PCD data 
 286:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     transfers.
 287:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 288:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
 289:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 290:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 291:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 292:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 293:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Start The USB Device.
 294:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
ARM GAS  /tmp/cczGGbmv.s 			page 11


 295:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 296:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 297:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Start(PCD_HandleTypeDef *hpcd)
 298:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 248              		.loc 1 298 0
 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 0
 251              		@ frame_needed = 0, uses_anonymous_args = 0
 252              	.LVL18:
 299:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 253              		.loc 1 299 0
 254 0000 90F82834 		ldrb	r3, [r0, #1064]	@ zero_extendqisi2
 255 0004 012B     		cmp	r3, #1
 256 0006 10D0     		beq	.L15
 298:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 257              		.loc 1 298 0 discriminator 2
 258 0008 10B5     		push	{r4, lr}
 259              	.LCFI5:
 260              		.cfi_def_cfa_offset 8
 261              		.cfi_offset 4, -8
 262              		.cfi_offset 14, -4
 263 000a 0446     		mov	r4, r0
 264              		.loc 1 299 0 discriminator 2
 265 000c 0121     		movs	r1, #1
 266 000e 80F82814 		strb	r1, [r0, #1064]
 300:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 1);
 267              		.loc 1 300 0 discriminator 2
 268 0012 FFF7FEFF 		bl	HAL_PCDEx_SetConnectionState
 269              	.LVL19:
 301:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevConnect (hpcd->Instance);
 270              		.loc 1 301 0 discriminator 2
 271 0016 2068     		ldr	r0, [r4]
 272 0018 FFF7FEFF 		bl	USB_DevConnect
 273              	.LVL20:
 302:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_PCD_ENABLE(hpcd);
 274              		.loc 1 302 0 discriminator 2
 275 001c 2068     		ldr	r0, [r4]
 276 001e FFF7FEFF 		bl	USB_EnableGlobalInt
 277              	.LVL21:
 303:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 278              		.loc 1 303 0 discriminator 2
 279 0022 0020     		movs	r0, #0
 280 0024 84F82804 		strb	r0, [r4, #1064]
 304:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 281              		.loc 1 304 0 discriminator 2
 282 0028 10BD     		pop	{r4, pc}
 283              	.LVL22:
 284              	.L15:
 285              	.LCFI6:
 286              		.cfi_def_cfa_offset 0
 287              		.cfi_restore 4
 288              		.cfi_restore 14
 299:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 1);
 289              		.loc 1 299 0
 290 002a 0220     		movs	r0, #2
 291              	.LVL23:
 292 002c 7047     		bx	lr
ARM GAS  /tmp/cczGGbmv.s 			page 12


 293              		.cfi_endproc
 294              	.LFE68:
 296 002e 00BF     		.section	.text.HAL_PCD_Stop,"ax",%progbits
 297              		.align	2
 298              		.global	HAL_PCD_Stop
 299              		.thumb
 300              		.thumb_func
 302              	HAL_PCD_Stop:
 303              	.LFB69:
 305:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 306:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 307:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 308:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Stop The USB Device.
 309:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 310:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 311:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 312:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Stop(PCD_HandleTypeDef *hpcd)
 313:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 304              		.loc 1 313 0
 305              		.cfi_startproc
 306              		@ args = 0, pretend = 0, frame = 0
 307              		@ frame_needed = 0, uses_anonymous_args = 0
 308              	.LVL24:
 314:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 309              		.loc 1 314 0
 310 0000 90F82834 		ldrb	r3, [r0, #1064]	@ zero_extendqisi2
 311 0004 012B     		cmp	r3, #1
 312 0006 11D0     		beq	.L20
 313:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 313              		.loc 1 313 0 discriminator 2
 314 0008 10B5     		push	{r4, lr}
 315              	.LCFI7:
 316              		.cfi_def_cfa_offset 8
 317              		.cfi_offset 4, -8
 318              		.cfi_offset 14, -4
 319 000a 0446     		mov	r4, r0
 320              		.loc 1 314 0 discriminator 2
 321 000c 0123     		movs	r3, #1
 322 000e 80F82834 		strb	r3, [r0, #1064]
 315:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_PCD_DISABLE(hpcd);
 323              		.loc 1 315 0 discriminator 2
 324 0012 0068     		ldr	r0, [r0]
 325              	.LVL25:
 326 0014 FFF7FEFF 		bl	USB_DisableGlobalInt
 327              	.LVL26:
 316:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_StopDevice(hpcd->Instance);
 328              		.loc 1 316 0 discriminator 2
 329 0018 2068     		ldr	r0, [r4]
 330 001a FFF7FEFF 		bl	USB_StopDevice
 331              	.LVL27:
 317:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevDisconnect (hpcd->Instance);
 332              		.loc 1 317 0 discriminator 2
 333 001e 2068     		ldr	r0, [r4]
 334 0020 FFF7FEFF 		bl	USB_DevDisconnect
 335              	.LVL28:
 318:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 336              		.loc 1 318 0 discriminator 2
ARM GAS  /tmp/cczGGbmv.s 			page 13


 337 0024 0020     		movs	r0, #0
 338 0026 84F82804 		strb	r0, [r4, #1064]
 319:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 339              		.loc 1 319 0 discriminator 2
 340 002a 10BD     		pop	{r4, pc}
 341              	.LVL29:
 342              	.L20:
 343              	.LCFI8:
 344              		.cfi_def_cfa_offset 0
 345              		.cfi_restore 4
 346              		.cfi_restore 14
 314:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_PCD_DISABLE(hpcd);
 347              		.loc 1 314 0
 348 002c 0220     		movs	r0, #2
 349              	.LVL30:
 350 002e 7047     		bx	lr
 351              		.cfi_endproc
 352              	.LFE69:
 354              		.section	.text.HAL_PCD_DeInit,"ax",%progbits
 355              		.align	2
 356              		.global	HAL_PCD_DeInit
 357              		.thumb
 358              		.thumb_func
 360              	HAL_PCD_DeInit:
 361              	.LFB65:
 225:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 362              		.loc 1 225 0
 363              		.cfi_startproc
 364              		@ args = 0, pretend = 0, frame = 0
 365              		@ frame_needed = 0, uses_anonymous_args = 0
 366              	.LVL31:
 227:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 367              		.loc 1 227 0
 368 0000 68B1     		cbz	r0, .L25
 225:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 369              		.loc 1 225 0
 370 0002 10B5     		push	{r4, lr}
 371              	.LCFI9:
 372              		.cfi_def_cfa_offset 8
 373              		.cfi_offset 4, -8
 374              		.cfi_offset 14, -4
 375 0004 0446     		mov	r4, r0
 232:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 376              		.loc 1 232 0
 377 0006 0323     		movs	r3, #3
 378 0008 80F82934 		strb	r3, [r0, #1065]
 235:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 379              		.loc 1 235 0
 380 000c FFF7FEFF 		bl	HAL_PCD_Stop
 381              	.LVL32:
 238:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 382              		.loc 1 238 0
 383 0010 2046     		mov	r0, r4
 384 0012 FFF7FEFF 		bl	HAL_PCD_MspDeInit
 385              	.LVL33:
 240:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 386              		.loc 1 240 0
ARM GAS  /tmp/cczGGbmv.s 			page 14


 387 0016 0020     		movs	r0, #0
 388 0018 84F82904 		strb	r0, [r4, #1065]
 242:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 389              		.loc 1 242 0
 390 001c 10BD     		pop	{r4, pc}
 391              	.LVL34:
 392              	.L25:
 393              	.LCFI10:
 394              		.cfi_def_cfa_offset 0
 395              		.cfi_restore 4
 396              		.cfi_restore 14
 229:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 397              		.loc 1 229 0
 398 001e 0120     		movs	r0, #1
 399              	.LVL35:
 400 0020 7047     		bx	lr
 401              		.cfi_endproc
 402              	.LFE65:
 404 0022 00BF     		.section	.text.HAL_PCD_DataOutStageCallback,"ax",%progbits
 405              		.align	2
 406              		.weak	HAL_PCD_DataOutStageCallback
 407              		.thumb
 408              		.thumb_func
 410              	HAL_PCD_DataOutStageCallback:
 411              	.LFB71:
 320:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 321:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 322:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB_OTG_FS)
 323:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 324:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  This function handles PCD interrupt request.
 325:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 326:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 327:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 328:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** void HAL_PCD_IRQHandler(PCD_HandleTypeDef *hpcd)
 329:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 330:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_GlobalTypeDef *USBx = hpcd->Instance;
 331:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t index = 0U, ep_intr = 0U, epint = 0U, epnum = 0U;
 332:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t fifoemptymsk = 0U, temp = 0U;
 333:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_EPTypeDef *ep = NULL;
 334:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 335:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* ensure that we are in device mode */
 336:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (USB_GetMode(hpcd->Instance) == USB_OTG_MODE_DEVICE)
 337:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 338:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* avoid spurious interrupt */
 339:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_IS_INVALID_INTERRUPT(hpcd))
 340:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 341:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       return;
 342:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 343:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 344:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_MMIS))
 345:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 346:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      /* incorrect mode, acknowledge the interrupt */
 347:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_MMIS);
 348:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 349:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 350:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_OEPINT))
 351:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
ARM GAS  /tmp/cczGGbmv.s 			page 15


 352:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       epnum = 0U;
 353:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 354:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Read in the device interrupt bits */
 355:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       ep_intr = USB_ReadDevAllOutEpInterrupt(hpcd->Instance);
 356:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 357:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       while ( ep_intr )
 358:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 359:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep_intr & 0x1U)
 360:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
 361:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           epint = USB_ReadDevOutEPInterrupt(hpcd->Instance, epnum);
 362:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
 363:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DOEPINT_XFRC) == USB_OTG_DOEPINT_XFRC)
 364:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 365:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_OUT_EP_INTR(epnum, USB_OTG_DOEPINT_XFRC);
 366:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             
 367:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             HAL_PCD_DataOutStageCallback(hpcd, epnum);
 368:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 369:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
 370:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DOEPINT_STUP) == USB_OTG_DOEPINT_STUP)
 371:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 372:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /* Inform the upper layer that a setup packet is available */
 373:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             HAL_PCD_SetupStageCallback(hpcd);
 374:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_OUT_EP_INTR(epnum, USB_OTG_DOEPINT_STUP);
 375:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 376:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
 377:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DOEPINT_OTEPDIS) == USB_OTG_DOEPINT_OTEPDIS)
 378:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 379:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_OUT_EP_INTR(epnum, USB_OTG_DOEPINT_OTEPDIS);
 380:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 381:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
 382:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         epnum++;
 383:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep_intr >>= 1U;
 384:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 385:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 386:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 387:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_IEPINT))
 388:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 389:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Read in the device interrupt bits */
 390:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       ep_intr = USB_ReadDevAllInEpInterrupt(hpcd->Instance);
 391:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 392:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       epnum = 0U;
 393:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 394:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       while ( ep_intr )
 395:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 396:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep_intr & 0x1U) /* In ITR */
 397:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
 398:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           epint = USB_ReadDevInEPInterrupt(hpcd->Instance, epnum);
 399:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 400:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_XFRC) == USB_OTG_DIEPINT_XFRC)
 401:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 402:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             fifoemptymsk = 0x1U << epnum;
 403:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USBx_DEVICE->DIEPEMPMSK &= ~fifoemptymsk;
 404:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             
 405:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_XFRC);
 406:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             
 407:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             HAL_PCD_DataInStageCallback(hpcd, epnum);
 408:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
ARM GAS  /tmp/cczGGbmv.s 			page 16


 409:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_TOC) == USB_OTG_DIEPINT_TOC)
 410:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 411:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_TOC);
 412:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 413:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_ITTXFE) == USB_OTG_DIEPINT_ITTXFE)
 414:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 415:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_ITTXFE);
 416:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 417:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_INEPNE) == USB_OTG_DIEPINT_INEPNE)
 418:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 419:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_INEPNE);
 420:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 421:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_EPDISD) == USB_OTG_DIEPINT_EPDISD)
 422:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 423:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_EPDISD);
 424:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 425:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_TXFE) == USB_OTG_DIEPINT_TXFE)
 426:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 427:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             PCD_WriteEmptyTxFifo(hpcd , epnum);
 428:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 429:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
 430:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         epnum++;
 431:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep_intr >>= 1U;
 432:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 433:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 434:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 435:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Resume Interrupt */
 436:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_WKUINT))
 437:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 438:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      /* Clear the Remote Wake-up signalling */
 439:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_RWUSIG;
 440:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      
 441:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      HAL_PCD_ResumeCallback(hpcd);
 442:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      
 443:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_WKUINT);
 444:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 445:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 446:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Suspend Interrupt */
 447:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_USBSUSP))
 448:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 449:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 450:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 451:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
 452:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         HAL_PCD_SuspendCallback(hpcd);
 453:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 454:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_USBSUSP);
 455:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 456:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 457:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Reset Interrupt */
 458:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_USBRST))
 459:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 460:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_RWUSIG; 
 461:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_FlushTxFifo(hpcd->Instance ,  0x10U);
 462:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 463:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       for (index = 0U; index < hpcd->Init.dev_endpoints ; index++)
 464:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 465:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         USBx_INEP(index)->DIEPINT = 0xFFU;
ARM GAS  /tmp/cczGGbmv.s 			page 17


 466:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         USBx_OUTEP(index)->DOEPINT = 0xFFU;
 467:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 468:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 469:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DAINTMSK |= 0x10001U;
 470:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 471:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DOEPMSK |= (USB_OTG_DOEPMSK_STUPM | USB_OTG_DOEPMSK_XFRCM | USB_OTG_DOEPMSK_EPDM
 472:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DIEPMSK |= (USB_OTG_DIEPMSK_TOM | USB_OTG_DIEPMSK_XFRCM | USB_OTG_DIEPMSK_EPDM);
 473:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 474:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Set Default Address to 0 */
 475:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DCFG &= ~USB_OTG_DCFG_DAD;
 476:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 477:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* setup EP0 to receive SETUP packets */
 478:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_EP0_OutStart(hpcd->Instance, (uint8_t *)hpcd->Setup);
 479:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 480:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_USBRST);
 481:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 482:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 483:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Enumeration done Interrupt */
 484:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_ENUMDNE))
 485:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 486:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_ActivateSetup(hpcd->Instance);
 487:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Instance->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 488:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 489:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Init.speed            = USB_OTG_SPEED_FULL;
 490:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Init.ep0_mps          = USB_OTG_FS_MAX_PACKET_SIZE ;
 491:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Instance->GUSBCFG |= (uint32_t)((USBD_FS_TRDT_VALUE << 10U) & USB_OTG_GUSBCFG_TRDT);
 492:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 493:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ResetCallback(hpcd);
 494:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 495:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_ENUMDNE);
 496:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 497:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 498:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle RxQLevel Interrupt */
 499:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_RXFLVL))
 500:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 501:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_MASK_INTERRUPT(hpcd->Instance, USB_OTG_GINTSTS_RXFLVL);
 502:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       temp = USBx->GRXSTSP;
 503:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       ep = &hpcd->OUT_ep[temp & USB_OTG_GRXSTSP_EPNUM];
 504:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 505:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if(((temp & USB_OTG_GRXSTSP_PKTSTS) >> 17U) ==  STS_DATA_UPDT)
 506:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 507:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if((temp & USB_OTG_GRXSTSP_BCNT) != 0U)
 508:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
 509:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           USB_ReadPacket(USBx, ep->xfer_buff, (temp & USB_OTG_GRXSTSP_BCNT) >> 4U);
 510:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_buff += (temp & USB_OTG_GRXSTSP_BCNT) >> 4U;
 511:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count += (temp & USB_OTG_GRXSTSP_BCNT) >> 4U;
 512:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
 513:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 514:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       else if (((temp & USB_OTG_GRXSTSP_PKTSTS) >> 17U) ==  STS_SETUP_UPDT)
 515:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 516:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         USB_ReadPacket(USBx, (uint8_t *)hpcd->Setup, 8U);
 517:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count += (temp & USB_OTG_GRXSTSP_BCNT) >> 4U;
 518:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 519:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_UNMASK_INTERRUPT(hpcd->Instance, USB_OTG_GINTSTS_RXFLVL);
 520:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 521:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 522:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle SOF Interrupt */
ARM GAS  /tmp/cczGGbmv.s 			page 18


 523:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_SOF))
 524:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 525:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_SOFCallback(hpcd);
 526:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_SOF);
 527:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 528:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 529:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Incomplete ISO IN Interrupt */
 530:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_IISOIXFR))
 531:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 532:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ISOINIncompleteCallback(hpcd, epnum);
 533:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_IISOIXFR);
 534:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 535:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 536:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Incomplete ISO OUT Interrupt */
 537:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_PXFR_INCOMPISOOUT))
 538:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 539:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ISOOUTIncompleteCallback(hpcd, epnum);
 540:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_PXFR_INCOMPISOOUT);
 541:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 542:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 543:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Connection event Interrupt */
 544:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_SRQINT))
 545:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 546:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ConnectCallback(hpcd);
 547:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_SRQINT);
 548:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 549:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 550:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Disconnection event Interrupt */
 551:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_OTGINT))
 552:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 553:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       temp = hpcd->Instance->GOTGINT;
 554:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 555:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if((temp & USB_OTG_GOTGINT_SEDET) == USB_OTG_GOTGINT_SEDET)
 556:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 557:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         HAL_PCD_DisconnectCallback(hpcd);
 558:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 559:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Instance->GOTGINT |= temp;
 560:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 561:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 562:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 563:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB_OTG_FS */
 564:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 565:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB)
 566:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 567:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  This function handles PCD interrupt request.
 568:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 569:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 570:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 571:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** void HAL_PCD_IRQHandler(PCD_HandleTypeDef *hpcd)
 572:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** { 
 573:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_CTR))
 574:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 575:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* servicing of the endpoint correct transfer interrupt */
 576:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* clear of the CTR flag into the sub */
 577:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     PCD_EP_ISR_Handler(hpcd);
 578:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 579:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
ARM GAS  /tmp/cczGGbmv.s 			page 19


 580:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_RESET))
 581:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 582:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_RESET);
 583:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_ResetCallback(hpcd);
 584:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_SetAddress(hpcd, 0U);
 585:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 586:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 587:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_PMAOVR))
 588:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 589:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_PMAOVR);    
 590:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 591:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_ERR))
 592:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 593:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_ERR); 
 594:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 595:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 596:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_WKUP))
 597:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 598:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR &= ~(USB_CNTR_LP_MODE);
 599:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR &= ~(USB_CNTR_FSUSP);
 600:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 601:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_ResumeCallback(hpcd);
 602:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 603:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_WKUP);     
 604:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 605:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 606:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_SUSP))
 607:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   { 
 608:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Force low-power mode in the macrocell */
 609:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_FSUSP;
 610:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 611:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* clear of the ISTR bit must be done after setting of CNTR_FSUSP */
 612:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_SUSP);  
 613:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 614:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_LP_MODE;
 615:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_WKUP) == 0U)
 616:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 617:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_SuspendCallback(hpcd);
 618:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 619:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 620:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 621:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_SOF))
 622:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 623:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_SOF); 
 624:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_SOFCallback(hpcd);
 625:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 626:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 627:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_ESOF))
 628:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 629:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* clear ESOF flag in ISTR */
 630:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_ESOF); 
 631:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 632:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 633:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB */
 634:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 635:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 636:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Data out stage callbacks
ARM GAS  /tmp/cczGGbmv.s 			page 20


 637:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 638:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
 639:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 640:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 641:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_DataOutStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 642:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 412              		.loc 1 642 0
 413              		.cfi_startproc
 414              		@ args = 0, pretend = 0, frame = 0
 415              		@ frame_needed = 0, uses_anonymous_args = 0
 416              		@ link register save eliminated.
 417              	.LVL36:
 418 0000 7047     		bx	lr
 419              		.cfi_endproc
 420              	.LFE71:
 422 0002 00BF     		.section	.text.HAL_PCD_DataInStageCallback,"ax",%progbits
 423              		.align	2
 424              		.weak	HAL_PCD_DataInStageCallback
 425              		.thumb
 426              		.thumb_func
 428              	HAL_PCD_DataInStageCallback:
 429              	.LFB72:
 643:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 644:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 645:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
 646:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 647:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_DataOutStageCallback could be implemented in the user file
 648:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 649:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 650:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 651:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 652:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Data IN stage callbacks
 653:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 654:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
 655:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 656:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 657:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_DataInStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 658:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 430              		.loc 1 658 0
 431              		.cfi_startproc
 432              		@ args = 0, pretend = 0, frame = 0
 433              		@ frame_needed = 0, uses_anonymous_args = 0
 434              		@ link register save eliminated.
 435              	.LVL37:
 436 0000 7047     		bx	lr
 437              		.cfi_endproc
 438              	.LFE72:
 440 0002 00BF     		.section	.text.HAL_PCD_SetupStageCallback,"ax",%progbits
 441              		.align	2
 442              		.weak	HAL_PCD_SetupStageCallback
 443              		.thumb
 444              		.thumb_func
 446              	HAL_PCD_SetupStageCallback:
 447              	.LFB73:
 659:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 660:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 661:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
ARM GAS  /tmp/cczGGbmv.s 			page 21


 662:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 663:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_DataInStageCallback could be implemented in the user file
 664:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 665:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 666:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 667:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Setup stage callback
 668:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 669:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 670:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 671:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_SetupStageCallback(PCD_HandleTypeDef *hpcd)
 672:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 448              		.loc 1 672 0
 449              		.cfi_startproc
 450              		@ args = 0, pretend = 0, frame = 0
 451              		@ frame_needed = 0, uses_anonymous_args = 0
 452              		@ link register save eliminated.
 453              	.LVL38:
 454 0000 7047     		bx	lr
 455              		.cfi_endproc
 456              	.LFE73:
 458 0002 00BF     		.section	.text.HAL_PCD_SOFCallback,"ax",%progbits
 459              		.align	2
 460              		.weak	HAL_PCD_SOFCallback
 461              		.thumb
 462              		.thumb_func
 464              	HAL_PCD_SOFCallback:
 465              	.LFB74:
 673:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 674:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 675:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 676:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_SetupStageCallback could be implemented in the user file
 677:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 678:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 679:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 680:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 681:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  USB Start Of Frame callbacks
 682:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 683:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 684:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 685:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_SOFCallback(PCD_HandleTypeDef *hpcd)
 686:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 466              		.loc 1 686 0
 467              		.cfi_startproc
 468              		@ args = 0, pretend = 0, frame = 0
 469              		@ frame_needed = 0, uses_anonymous_args = 0
 470              		@ link register save eliminated.
 471              	.LVL39:
 472 0000 7047     		bx	lr
 473              		.cfi_endproc
 474              	.LFE74:
 476 0002 00BF     		.section	.text.HAL_PCD_ResetCallback,"ax",%progbits
 477              		.align	2
 478              		.weak	HAL_PCD_ResetCallback
 479              		.thumb
 480              		.thumb_func
 482              	HAL_PCD_ResetCallback:
 483              	.LFB75:
ARM GAS  /tmp/cczGGbmv.s 			page 22


 687:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 688:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 689:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 690:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_SOFCallback could be implemented in the user file
 691:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 692:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 693:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 694:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 695:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  USB Reset callbacks
 696:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 697:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 698:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 699:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ResetCallback(PCD_HandleTypeDef *hpcd)
 700:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 484              		.loc 1 700 0
 485              		.cfi_startproc
 486              		@ args = 0, pretend = 0, frame = 0
 487              		@ frame_needed = 0, uses_anonymous_args = 0
 488              		@ link register save eliminated.
 489              	.LVL40:
 490 0000 7047     		bx	lr
 491              		.cfi_endproc
 492              	.LFE75:
 494 0002 00BF     		.section	.text.HAL_PCD_SuspendCallback,"ax",%progbits
 495              		.align	2
 496              		.weak	HAL_PCD_SuspendCallback
 497              		.thumb
 498              		.thumb_func
 500              	HAL_PCD_SuspendCallback:
 501              	.LFB76:
 701:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 702:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 703:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 704:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ResetCallback could be implemented in the user file
 705:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 706:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 707:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 708:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 709:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Suspend event callbacks
 710:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 711:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 712:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 713:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_SuspendCallback(PCD_HandleTypeDef *hpcd)
 714:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 502              		.loc 1 714 0
 503              		.cfi_startproc
 504              		@ args = 0, pretend = 0, frame = 0
 505              		@ frame_needed = 0, uses_anonymous_args = 0
 506              		@ link register save eliminated.
 507              	.LVL41:
 508 0000 7047     		bx	lr
 509              		.cfi_endproc
 510              	.LFE76:
 512 0002 00BF     		.section	.text.HAL_PCD_ResumeCallback,"ax",%progbits
 513              		.align	2
 514              		.weak	HAL_PCD_ResumeCallback
 515              		.thumb
ARM GAS  /tmp/cczGGbmv.s 			page 23


 516              		.thumb_func
 518              	HAL_PCD_ResumeCallback:
 519              	.LFB77:
 715:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 716:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 717:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 718:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_SuspendCallback could be implemented in the user file
 719:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 720:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 721:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 722:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 723:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Resume event callbacks
 724:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 725:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 726:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 727:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ResumeCallback(PCD_HandleTypeDef *hpcd)
 728:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 520              		.loc 1 728 0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 0
 523              		@ frame_needed = 0, uses_anonymous_args = 0
 524              		@ link register save eliminated.
 525              	.LVL42:
 526 0000 7047     		bx	lr
 527              		.cfi_endproc
 528              	.LFE77:
 530 0002 00BF     		.section	.text.HAL_PCD_ISOOUTIncompleteCallback,"ax",%progbits
 531              		.align	2
 532              		.weak	HAL_PCD_ISOOUTIncompleteCallback
 533              		.thumb
 534              		.thumb_func
 536              	HAL_PCD_ISOOUTIncompleteCallback:
 537              	.LFB78:
 729:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 730:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 731:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 732:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ResumeCallback could be implemented in the user file
 733:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 734:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 735:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 736:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 737:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Incomplete ISO OUT callbacks
 738:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 739:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
 740:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 741:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 742:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ISOOUTIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 743:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 538              		.loc 1 743 0
 539              		.cfi_startproc
 540              		@ args = 0, pretend = 0, frame = 0
 541              		@ frame_needed = 0, uses_anonymous_args = 0
 542              		@ link register save eliminated.
 543              	.LVL43:
 544 0000 7047     		bx	lr
 545              		.cfi_endproc
 546              	.LFE78:
ARM GAS  /tmp/cczGGbmv.s 			page 24


 548 0002 00BF     		.section	.text.HAL_PCD_ISOINIncompleteCallback,"ax",%progbits
 549              		.align	2
 550              		.weak	HAL_PCD_ISOINIncompleteCallback
 551              		.thumb
 552              		.thumb_func
 554              	HAL_PCD_ISOINIncompleteCallback:
 555              	.LFB79:
 744:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 745:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 746:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
 747:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 748:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ISOOUTIncompleteCallback could be implemented in the user file
 749:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 750:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 751:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 752:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 753:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Incomplete ISO IN  callbacks
 754:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 755:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
 756:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 757:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 758:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ISOINIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 759:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 556              		.loc 1 759 0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 0
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 560              		@ link register save eliminated.
 561              	.LVL44:
 562 0000 7047     		bx	lr
 563              		.cfi_endproc
 564              	.LFE79:
 566 0002 00BF     		.section	.text.HAL_PCD_ConnectCallback,"ax",%progbits
 567              		.align	2
 568              		.weak	HAL_PCD_ConnectCallback
 569              		.thumb
 570              		.thumb_func
 572              	HAL_PCD_ConnectCallback:
 573              	.LFB80:
 760:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 761:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 762:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
 763:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 764:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ISOINIncompleteCallback could be implemented in the user file
 765:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 766:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 767:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 768:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 769:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Connection event callbacks
 770:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 771:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 772:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 773:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ConnectCallback(PCD_HandleTypeDef *hpcd)
 774:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 574              		.loc 1 774 0
 575              		.cfi_startproc
 576              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cczGGbmv.s 			page 25


 577              		@ frame_needed = 0, uses_anonymous_args = 0
 578              		@ link register save eliminated.
 579              	.LVL45:
 580 0000 7047     		bx	lr
 581              		.cfi_endproc
 582              	.LFE80:
 584 0002 00BF     		.section	.text.HAL_PCD_DisconnectCallback,"ax",%progbits
 585              		.align	2
 586              		.weak	HAL_PCD_DisconnectCallback
 587              		.thumb
 588              		.thumb_func
 590              	HAL_PCD_DisconnectCallback:
 591              	.LFB81:
 775:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 776:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 777:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 778:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ConnectCallback could be implemented in the user file
 779:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 780:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 781:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 782:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 783:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Disconnection event callbacks
 784:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 785:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 786:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 787:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_DisconnectCallback(PCD_HandleTypeDef *hpcd)
 788:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 592              		.loc 1 788 0
 593              		.cfi_startproc
 594              		@ args = 0, pretend = 0, frame = 0
 595              		@ frame_needed = 0, uses_anonymous_args = 0
 596              		@ link register save eliminated.
 597              	.LVL46:
 598 0000 7047     		bx	lr
 599              		.cfi_endproc
 600              	.LFE81:
 602 0002 00BF     		.section	.text.HAL_PCD_DevConnect,"ax",%progbits
 603              		.align	2
 604              		.global	HAL_PCD_DevConnect
 605              		.thumb
 606              		.thumb_func
 608              	HAL_PCD_DevConnect:
 609              	.LFB82:
 789:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 790:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 791:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 792:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_DisconnectCallback could be implemented in the user file
 793:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 794:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 795:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 796:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 797:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 798:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 799:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 800:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group3 Peripheral Control functions
 801:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief   management functions
 802:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
ARM GAS  /tmp/cczGGbmv.s 			page 26


 803:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
 804:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 805:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                       ##### Peripheral Control functions #####
 806:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================  
 807:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
 808:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     This subsection provides a set of functions allowing to control the PCD data 
 809:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     transfers.
 810:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 811:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
 812:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 813:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 814:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 815:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 816:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Connect the USB device
 817:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 818:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 819:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 820:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DevConnect(PCD_HandleTypeDef *hpcd)
 821:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 610              		.loc 1 821 0
 611              		.cfi_startproc
 612              		@ args = 0, pretend = 0, frame = 0
 613              		@ frame_needed = 0, uses_anonymous_args = 0
 614              	.LVL47:
 822:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 615              		.loc 1 822 0
 616 0000 90F82834 		ldrb	r3, [r0, #1064]	@ zero_extendqisi2
 617 0004 012B     		cmp	r3, #1
 618 0006 0DD0     		beq	.L41
 821:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 619              		.loc 1 821 0 discriminator 2
 620 0008 10B5     		push	{r4, lr}
 621              	.LCFI11:
 622              		.cfi_def_cfa_offset 8
 623              		.cfi_offset 4, -8
 624              		.cfi_offset 14, -4
 625 000a 0446     		mov	r4, r0
 626              		.loc 1 822 0 discriminator 2
 627 000c 0121     		movs	r1, #1
 628 000e 80F82814 		strb	r1, [r0, #1064]
 823:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 1);
 629              		.loc 1 823 0 discriminator 2
 630 0012 FFF7FEFF 		bl	HAL_PCDEx_SetConnectionState
 631              	.LVL48:
 824:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevConnect(hpcd->Instance);
 632              		.loc 1 824 0 discriminator 2
 633 0016 2068     		ldr	r0, [r4]
 634 0018 FFF7FEFF 		bl	USB_DevConnect
 635              	.LVL49:
 825:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 636              		.loc 1 825 0 discriminator 2
 637 001c 0020     		movs	r0, #0
 638 001e 84F82804 		strb	r0, [r4, #1064]
 826:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 639              		.loc 1 826 0 discriminator 2
 640 0022 10BD     		pop	{r4, pc}
 641              	.LVL50:
ARM GAS  /tmp/cczGGbmv.s 			page 27


 642              	.L41:
 643              	.LCFI12:
 644              		.cfi_def_cfa_offset 0
 645              		.cfi_restore 4
 646              		.cfi_restore 14
 822:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 1);
 647              		.loc 1 822 0
 648 0024 0220     		movs	r0, #2
 649              	.LVL51:
 650 0026 7047     		bx	lr
 651              		.cfi_endproc
 652              	.LFE82:
 654              		.section	.text.HAL_PCD_DevDisconnect,"ax",%progbits
 655              		.align	2
 656              		.global	HAL_PCD_DevDisconnect
 657              		.thumb
 658              		.thumb_func
 660              	HAL_PCD_DevDisconnect:
 661              	.LFB83:
 827:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 828:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 829:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 830:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Disconnect the USB device
 831:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 832:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 833:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 834:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DevDisconnect(PCD_HandleTypeDef *hpcd)
 835:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 662              		.loc 1 835 0
 663              		.cfi_startproc
 664              		@ args = 0, pretend = 0, frame = 0
 665              		@ frame_needed = 0, uses_anonymous_args = 0
 666              	.LVL52:
 836:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 667              		.loc 1 836 0
 668 0000 90F82834 		ldrb	r3, [r0, #1064]	@ zero_extendqisi2
 669 0004 012B     		cmp	r3, #1
 670 0006 0ED0     		beq	.L46
 835:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 671              		.loc 1 835 0 discriminator 2
 672 0008 10B5     		push	{r4, lr}
 673              	.LCFI13:
 674              		.cfi_def_cfa_offset 8
 675              		.cfi_offset 4, -8
 676              		.cfi_offset 14, -4
 677 000a 0446     		mov	r4, r0
 678              		.loc 1 836 0 discriminator 2
 679 000c 0123     		movs	r3, #1
 680 000e 80F82834 		strb	r3, [r0, #1064]
 837:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 0U);
 681              		.loc 1 837 0 discriminator 2
 682 0012 0021     		movs	r1, #0
 683 0014 FFF7FEFF 		bl	HAL_PCDEx_SetConnectionState
 684              	.LVL53:
 838:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevDisconnect(hpcd->Instance);
 685              		.loc 1 838 0 discriminator 2
 686 0018 2068     		ldr	r0, [r4]
ARM GAS  /tmp/cczGGbmv.s 			page 28


 687 001a FFF7FEFF 		bl	USB_DevDisconnect
 688              	.LVL54:
 839:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 689              		.loc 1 839 0 discriminator 2
 690 001e 0020     		movs	r0, #0
 691 0020 84F82804 		strb	r0, [r4, #1064]
 840:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 692              		.loc 1 840 0 discriminator 2
 693 0024 10BD     		pop	{r4, pc}
 694              	.LVL55:
 695              	.L46:
 696              	.LCFI14:
 697              		.cfi_def_cfa_offset 0
 698              		.cfi_restore 4
 699              		.cfi_restore 14
 836:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 0U);
 700              		.loc 1 836 0
 701 0026 0220     		movs	r0, #2
 702              	.LVL56:
 703 0028 7047     		bx	lr
 704              		.cfi_endproc
 705              	.LFE83:
 707 002a 00BF     		.section	.text.HAL_PCD_SetAddress,"ax",%progbits
 708              		.align	2
 709              		.global	HAL_PCD_SetAddress
 710              		.thumb
 711              		.thumb_func
 713              	HAL_PCD_SetAddress:
 714              	.LFB84:
 841:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 842:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 843:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 844:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Set the USB Device address
 845:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 846:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  address: new device address
 847:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 848:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 849:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_SetAddress(PCD_HandleTypeDef *hpcd, uint8_t address)
 850:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 715              		.loc 1 850 0
 716              		.cfi_startproc
 717              		@ args = 0, pretend = 0, frame = 0
 718              		@ frame_needed = 0, uses_anonymous_args = 0
 719              	.LVL57:
 851:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 720              		.loc 1 851 0
 721 0000 90F82834 		ldrb	r3, [r0, #1064]	@ zero_extendqisi2
 722 0004 012B     		cmp	r3, #1
 723 0006 0DD0     		beq	.L51
 850:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 724              		.loc 1 850 0 discriminator 2
 725 0008 10B5     		push	{r4, lr}
 726              	.LCFI15:
 727              		.cfi_def_cfa_offset 8
 728              		.cfi_offset 4, -8
 729              		.cfi_offset 14, -4
 730 000a 0446     		mov	r4, r0
ARM GAS  /tmp/cczGGbmv.s 			page 29


 731              		.loc 1 851 0 discriminator 2
 732 000c 0123     		movs	r3, #1
 733 000e 80F82834 		strb	r3, [r0, #1064]
 852:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->USB_Address = address;
 734              		.loc 1 852 0 discriminator 2
 735 0012 80F82410 		strb	r1, [r0, #36]
 853:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_SetDevAddress(hpcd->Instance, address);
 736              		.loc 1 853 0 discriminator 2
 737 0016 0068     		ldr	r0, [r0]
 738              	.LVL58:
 739 0018 FFF7FEFF 		bl	USB_SetDevAddress
 740              	.LVL59:
 854:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 741              		.loc 1 854 0 discriminator 2
 742 001c 0020     		movs	r0, #0
 743 001e 84F82804 		strb	r0, [r4, #1064]
 855:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 744              		.loc 1 855 0 discriminator 2
 745 0022 10BD     		pop	{r4, pc}
 746              	.LVL60:
 747              	.L51:
 748              	.LCFI16:
 749              		.cfi_def_cfa_offset 0
 750              		.cfi_restore 4
 751              		.cfi_restore 14
 851:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->USB_Address = address;
 752              		.loc 1 851 0
 753 0024 0220     		movs	r0, #2
 754              	.LVL61:
 755 0026 7047     		bx	lr
 756              		.cfi_endproc
 757              	.LFE84:
 759              		.section	.text.HAL_PCD_EP_Open,"ax",%progbits
 760              		.align	2
 761              		.global	HAL_PCD_EP_Open
 762              		.thumb
 763              		.thumb_func
 765              	HAL_PCD_EP_Open:
 766              	.LFB85:
 856:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 857:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 858:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Open and configure an endpoint
 859:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 860:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 861:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_mps: endpoint max packet size
 862:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_type: endpoint type   
 863:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 864:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 865:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Open(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint16_t ep_mps, uint8_
 866:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 767              		.loc 1 866 0
 768              		.cfi_startproc
 769              		@ args = 0, pretend = 0, frame = 0
 770              		@ frame_needed = 0, uses_anonymous_args = 0
 771              	.LVL62:
 772 0000 38B5     		push	{r3, r4, r5, lr}
 773              	.LCFI17:
ARM GAS  /tmp/cczGGbmv.s 			page 30


 774              		.cfi_def_cfa_offset 16
 775              		.cfi_offset 3, -16
 776              		.cfi_offset 4, -12
 777              		.cfi_offset 5, -8
 778              		.cfi_offset 14, -4
 779              	.LVL63:
 867:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_StatusTypeDef  ret = HAL_OK;
 868:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 869:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 870:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x80U) == 0x80U)
 780              		.loc 1 870 0
 781 0002 4DB2     		sxtb	r5, r1
 782 0004 002D     		cmp	r5, #0
 783 0006 05DA     		bge	.L55
 871:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 872:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 784              		.loc 1 872 0
 785 0008 01F07F04 		and	r4, r1, #127
 786 000c 6401     		lsls	r4, r4, #5
 787 000e 2834     		adds	r4, r4, #40
 788 0010 0444     		add	r4, r4, r0
 789              	.LVL64:
 790 0012 05E0     		b	.L56
 791              	.LVL65:
 792              	.L55:
 873:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 874:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 875:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 876:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr & 0x7FU];
 793              		.loc 1 876 0
 794 0014 01F07F04 		and	r4, r1, #127
 795 0018 6401     		lsls	r4, r4, #5
 796 001a 04F50A74 		add	r4, r4, #552
 797 001e 0444     		add	r4, r4, r0
 798              	.LVL66:
 799              	.L56:
 877:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 878:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 800              		.loc 1 878 0
 801 0020 01F07F01 		and	r1, r1, #127
 802              	.LVL67:
 803 0024 2170     		strb	r1, [r4]
 879:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 880:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = (0x80U & ep_addr) != 0U;
 804              		.loc 1 880 0
 805 0026 ED0F     		lsrs	r5, r5, #31
 806              	.LVL68:
 807 0028 6570     		strb	r5, [r4, #1]
 881:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->maxpacket = ep_mps;
 808              		.loc 1 881 0
 809 002a 2261     		str	r2, [r4, #16]
 882:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->type = ep_type;
 810              		.loc 1 882 0
 811 002c E370     		strb	r3, [r4, #3]
 883:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 884:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 812              		.loc 1 884 0
ARM GAS  /tmp/cczGGbmv.s 			page 31


 813 002e 90F82834 		ldrb	r3, [r0, #1064]	@ zero_extendqisi2
 814              	.LVL69:
 815 0032 012B     		cmp	r3, #1
 816 0034 0BD0     		beq	.L58
 817 0036 0546     		mov	r5, r0
 818              		.loc 1 884 0 is_stmt 0 discriminator 2
 819 0038 0123     		movs	r3, #1
 820 003a 80F82834 		strb	r3, [r0, #1064]
 821              	.LVL70:
 885:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_ActivateEndpoint(hpcd->Instance , ep);
 822              		.loc 1 885 0 is_stmt 1 discriminator 2
 823 003e 2146     		mov	r1, r4
 824 0040 0068     		ldr	r0, [r0]
 825              	.LVL71:
 826 0042 FFF7FEFF 		bl	USB_ActivateEndpoint
 827              	.LVL72:
 886:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 828              		.loc 1 886 0 discriminator 2
 829 0046 0020     		movs	r0, #0
 830 0048 85F82804 		strb	r0, [r5, #1064]
 887:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return ret;
 831              		.loc 1 887 0 discriminator 2
 832 004c 38BD     		pop	{r3, r4, r5, pc}
 833              	.LVL73:
 834              	.L58:
 884:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_ActivateEndpoint(hpcd->Instance , ep);
 835              		.loc 1 884 0
 836 004e 0220     		movs	r0, #2
 837              	.LVL74:
 888:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 838              		.loc 1 888 0
 839 0050 38BD     		pop	{r3, r4, r5, pc}
 840              		.cfi_endproc
 841              	.LFE85:
 843 0052 00BF     		.section	.text.HAL_PCD_EP_Close,"ax",%progbits
 844              		.align	2
 845              		.global	HAL_PCD_EP_Close
 846              		.thumb
 847              		.thumb_func
 849              	HAL_PCD_EP_Close:
 850              	.LFB86:
 889:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 890:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 891:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Deactivate an endpoint
 892:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 893:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 894:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 895:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 896:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Close(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
 897:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {  
 851              		.loc 1 897 0
 852              		.cfi_startproc
 853              		@ args = 0, pretend = 0, frame = 0
 854              		@ frame_needed = 0, uses_anonymous_args = 0
 855              	.LVL75:
 898:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 899:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
ARM GAS  /tmp/cczGGbmv.s 			page 32


 900:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x80U) == 0x80U)
 856              		.loc 1 900 0
 857 0000 4AB2     		sxtb	r2, r1
 858 0002 002A     		cmp	r2, #0
 859 0004 05DA     		bge	.L61
 901:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 902:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 860              		.loc 1 902 0
 861 0006 01F07F03 		and	r3, r1, #127
 862 000a 5B01     		lsls	r3, r3, #5
 863 000c 2833     		adds	r3, r3, #40
 864 000e 0344     		add	r3, r3, r0
 865              	.LVL76:
 866 0010 05E0     		b	.L62
 867              	.LVL77:
 868              	.L61:
 903:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 904:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 905:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 906:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr & 0x7FU];
 869              		.loc 1 906 0
 870 0012 01F07F03 		and	r3, r1, #127
 871 0016 5B01     		lsls	r3, r3, #5
 872 0018 03F50A73 		add	r3, r3, #552
 873 001c 0344     		add	r3, r3, r0
 874              	.LVL78:
 875              	.L62:
 907:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 908:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 876              		.loc 1 908 0
 877 001e 01F07F01 		and	r1, r1, #127
 878              	.LVL79:
 879 0022 1970     		strb	r1, [r3]
 909:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 910:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = (0x80U & ep_addr) != 0U;
 880              		.loc 1 910 0
 881 0024 D20F     		lsrs	r2, r2, #31
 882              	.LVL80:
 883 0026 5A70     		strb	r2, [r3, #1]
 911:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 912:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 884              		.loc 1 912 0
 885 0028 90F82824 		ldrb	r2, [r0, #1064]	@ zero_extendqisi2
 886 002c 012A     		cmp	r2, #1
 887 002e 0CD0     		beq	.L64
 897:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 888              		.loc 1 897 0 discriminator 2
 889 0030 10B5     		push	{r4, lr}
 890              	.LCFI18:
 891              		.cfi_def_cfa_offset 8
 892              		.cfi_offset 4, -8
 893              		.cfi_offset 14, -4
 894 0032 0446     		mov	r4, r0
 895              		.loc 1 912 0 discriminator 2
 896 0034 0122     		movs	r2, #1
 897 0036 80F82824 		strb	r2, [r0, #1064]
 913:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DeactivateEndpoint(hpcd->Instance , ep);
ARM GAS  /tmp/cczGGbmv.s 			page 33


 898              		.loc 1 913 0 discriminator 2
 899 003a 1946     		mov	r1, r3
 900 003c 0068     		ldr	r0, [r0]
 901              	.LVL81:
 902 003e FFF7FEFF 		bl	USB_DeactivateEndpoint
 903              	.LVL82:
 914:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 904              		.loc 1 914 0 discriminator 2
 905 0042 0020     		movs	r0, #0
 906 0044 84F82804 		strb	r0, [r4, #1064]
 915:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 907              		.loc 1 915 0 discriminator 2
 908 0048 10BD     		pop	{r4, pc}
 909              	.LVL83:
 910              	.L64:
 911              	.LCFI19:
 912              		.cfi_def_cfa_offset 0
 913              		.cfi_restore 4
 914              		.cfi_restore 14
 912:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DeactivateEndpoint(hpcd->Instance , ep);
 915              		.loc 1 912 0
 916 004a 0220     		movs	r0, #2
 917              	.LVL84:
 918 004c 7047     		bx	lr
 919              		.cfi_endproc
 920              	.LFE86:
 922 004e 00BF     		.section	.text.HAL_PCD_EP_Receive,"ax",%progbits
 923              		.align	2
 924              		.global	HAL_PCD_EP_Receive
 925              		.thumb
 926              		.thumb_func
 928              	HAL_PCD_EP_Receive:
 929              	.LFB87:
 916:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 917:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 918:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 919:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 920:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Receive an amount of data
 921:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 922:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 923:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  pBuf: pointer to the reception buffer
 924:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  len: amount of data to be received
 925:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 926:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 927:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Receive(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint8_t *pBuf, uint3
 928:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 930              		.loc 1 928 0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934              	.LVL85:
 935 0000 70B5     		push	{r4, r5, r6, lr}
 936              	.LCFI20:
 937              		.cfi_def_cfa_offset 16
 938              		.cfi_offset 4, -16
 939              		.cfi_offset 5, -12
 940              		.cfi_offset 6, -8
ARM GAS  /tmp/cczGGbmv.s 			page 34


 941              		.cfi_offset 14, -4
 942              	.LVL86:
 943 0002 01F07F05 		and	r5, r1, #127
 929:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 930:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 931:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep = &hpcd->OUT_ep[ep_addr & 0x7FU];
 944              		.loc 1 931 0
 945 0006 6C01     		lsls	r4, r5, #5
 946 0008 04F50A71 		add	r1, r4, #552
 947              	.LVL87:
 948 000c 0144     		add	r1, r1, r0
 949              	.LVL88:
 932:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 933:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /*setup and start the Xfer */
 934:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_buff = pBuf;  
 950              		.loc 1 934 0
 951 000e 0444     		add	r4, r4, r0
 952 0010 C4F83C22 		str	r2, [r4, #572]
 935:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_len = len;
 953              		.loc 1 935 0
 954 0014 05F11202 		add	r2, r5, #18
 955              	.LVL89:
 956 0018 5201     		lsls	r2, r2, #5
 957 001a 8618     		adds	r6, r0, r2
 958 001c 8350     		str	r3, [r0, r2]
 959              	.LVL90:
 936:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_count = 0U;
 960              		.loc 1 936 0
 961 001e 0023     		movs	r3, #0
 962              	.LVL91:
 963 0020 7360     		str	r3, [r6, #4]
 937:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = 0U;
 964              		.loc 1 937 0
 965 0022 84F82932 		strb	r3, [r4, #553]
 966              	.LVL92:
 938:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num = ep_addr & 0x7FU;
 967              		.loc 1 938 0
 968 0026 84F82852 		strb	r5, [r4, #552]
 939:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 940:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x7FU) == 0U)
 969              		.loc 1 940 0
 970 002a 1DB9     		cbnz	r5, .L68
 941:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 942:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EP0StartXfer(hpcd->Instance , ep);
 971              		.loc 1 942 0
 972 002c 0068     		ldr	r0, [r0]
 973              	.LVL93:
 974 002e FFF7FEFF 		bl	USB_EPStartXfer
 975              	.LVL94:
 976 0032 02E0     		b	.L69
 977              	.LVL95:
 978              	.L68:
 943:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 944:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 945:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 946:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EPStartXfer(hpcd->Instance , ep);
 979              		.loc 1 946 0
ARM GAS  /tmp/cczGGbmv.s 			page 35


 980 0034 0068     		ldr	r0, [r0]
 981              	.LVL96:
 982 0036 FFF7FEFF 		bl	USB_EPStartXfer
 983              	.LVL97:
 984              	.L69:
 947:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 948:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 949:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 950:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 985              		.loc 1 950 0
 986 003a 0020     		movs	r0, #0
 987 003c 70BD     		pop	{r4, r5, r6, pc}
 988              		.cfi_endproc
 989              	.LFE87:
 991 003e 00BF     		.section	.text.HAL_PCD_EP_GetRxCount,"ax",%progbits
 992              		.align	2
 993              		.global	HAL_PCD_EP_GetRxCount
 994              		.thumb
 995              		.thumb_func
 997              	HAL_PCD_EP_GetRxCount:
 998              	.LFB88:
 951:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 952:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 953:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Get Received Data Size
 954:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 955:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 956:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval Data Size
 957:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 958:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** uint16_t HAL_PCD_EP_GetRxCount(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
 959:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 999              		.loc 1 959 0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		@ link register save eliminated.
 1004              	.LVL98:
 960:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return hpcd->OUT_ep[ep_addr & 0xF].xfer_count;
 1005              		.loc 1 960 0
 1006 0000 01F00F01 		and	r1, r1, #15
 1007              	.LVL99:
 1008 0004 1231     		adds	r1, r1, #18
 1009 0006 00EB4110 		add	r0, r0, r1, lsl #5
 1010              	.LVL100:
 961:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1011              		.loc 1 961 0
 1012 000a 8088     		ldrh	r0, [r0, #4]
 1013 000c 7047     		bx	lr
 1014              		.cfi_endproc
 1015              	.LFE88:
 1017 000e 00BF     		.section	.text.HAL_PCD_EP_Transmit,"ax",%progbits
 1018              		.align	2
 1019              		.global	HAL_PCD_EP_Transmit
 1020              		.thumb
 1021              		.thumb_func
 1023              	HAL_PCD_EP_Transmit:
 1024              	.LFB89:
 962:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
ARM GAS  /tmp/cczGGbmv.s 			page 36


 963:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Send an amount of data
 964:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 965:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 966:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  pBuf: pointer to the transmission buffer
 967:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  len: amount of data to be sent
 968:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 969:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 970:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Transmit(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint8_t *pBuf, uint
 971:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1025              		.loc 1 971 0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 0
 1028              		@ frame_needed = 0, uses_anonymous_args = 0
 1029              	.LVL101:
 1030 0000 70B5     		push	{r4, r5, r6, lr}
 1031              	.LCFI21:
 1032              		.cfi_def_cfa_offset 16
 1033              		.cfi_offset 4, -16
 1034              		.cfi_offset 5, -12
 1035              		.cfi_offset 6, -8
 1036              		.cfi_offset 14, -4
 1037              	.LVL102:
 1038 0002 01F07F05 		and	r5, r1, #127
 972:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 973:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 974:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 1039              		.loc 1 974 0
 1040 0006 6C01     		lsls	r4, r5, #5
 1041 0008 04F12801 		add	r1, r4, #40
 1042              	.LVL103:
 1043 000c 0144     		add	r1, r1, r0
 1044              	.LVL104:
 975:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 976:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /*setup and start the Xfer */
 977:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_buff = pBuf;  
 1045              		.loc 1 977 0
 1046 000e 0444     		add	r4, r4, r0
 1047 0010 E263     		str	r2, [r4, #60]
 978:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_len = len;
 1048              		.loc 1 978 0
 1049 0012 AA1C     		adds	r2, r5, #2
 1050              	.LVL105:
 1051 0014 5201     		lsls	r2, r2, #5
 1052 0016 8618     		adds	r6, r0, r2
 1053 0018 8350     		str	r3, [r0, r2]
 1054              	.LVL106:
 979:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_count = 0U;
 1055              		.loc 1 979 0
 1056 001a 0023     		movs	r3, #0
 1057              	.LVL107:
 1058 001c 7360     		str	r3, [r6, #4]
 980:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = 1U;
 1059              		.loc 1 980 0
 1060 001e 0123     		movs	r3, #1
 1061 0020 84F82930 		strb	r3, [r4, #41]
 1062              	.LVL108:
 981:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num = ep_addr & 0x7FU;
ARM GAS  /tmp/cczGGbmv.s 			page 37


 1063              		.loc 1 981 0
 1064 0024 84F82850 		strb	r5, [r4, #40]
 982:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 983:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x7FU) == 0U)
 1065              		.loc 1 983 0
 1066 0028 1DB9     		cbnz	r5, .L73
 984:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 985:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EP0StartXfer(hpcd->Instance , ep);
 1067              		.loc 1 985 0
 1068 002a 0068     		ldr	r0, [r0]
 1069              	.LVL109:
 1070 002c FFF7FEFF 		bl	USB_EPStartXfer
 1071              	.LVL110:
 1072 0030 02E0     		b	.L74
 1073              	.LVL111:
 1074              	.L73:
 986:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 987:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 988:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 989:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EPStartXfer(hpcd->Instance , ep);
 1075              		.loc 1 989 0
 1076 0032 0068     		ldr	r0, [r0]
 1077              	.LVL112:
 1078 0034 FFF7FEFF 		bl	USB_EPStartXfer
 1079              	.LVL113:
 1080              	.L74:
 990:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 991:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 992:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 993:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1081              		.loc 1 993 0
 1082 0038 0020     		movs	r0, #0
 1083 003a 70BD     		pop	{r4, r5, r6, pc}
 1084              		.cfi_endproc
 1085              	.LFE89:
 1087              		.section	.text.PCD_EP_ISR_Handler,"ax",%progbits
 1088              		.align	2
 1089              		.thumb
 1090              		.thumb_func
 1092              	PCD_EP_ISR_Handler:
 1093              	.LFB96:
 994:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 995:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 996:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Set a STALL condition over an endpoint
 997:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 998:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 999:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1000:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1001:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_SetStall(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
1002:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
1003:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
1004:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1005:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((0x80U & ep_addr) == 0x80U)
1006:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1007:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
1008:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1009:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
ARM GAS  /tmp/cczGGbmv.s 			page 38


1010:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1011:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr];
1012:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1013:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1014:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_stall = 1U;
1015:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
1016:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80U) == 0x80U);
1017:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1018:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
1019:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPSetStall(hpcd->Instance , ep);
1020:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if((ep_addr & 0x7FU) == 0U)
1021:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1022:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EP0_OutStart(hpcd->Instance, (uint8_t *)hpcd->Setup);
1023:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1024:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
1025:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1026:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
1027:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1028:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1029:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1030:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Clear a STALL condition over in an endpoint
1031:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1032:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
1033:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1034:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1035:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_ClrStall(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
1036:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
1037:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
1038:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1039:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((0x80U & ep_addr) == 0x80U)
1040:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1041:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
1042:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1043:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
1044:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1045:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr];
1046:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1047:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1048:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_stall = 0U;
1049:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
1050:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80U) == 0x80U);
1051:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1052:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
1053:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPClearStall(hpcd->Instance , ep);
1054:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
1055:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1056:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
1057:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1058:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1059:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1060:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Flush an endpoint
1061:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1062:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
1063:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1064:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1065:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Flush(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
1066:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
ARM GAS  /tmp/cczGGbmv.s 			page 39


1067:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
1068:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1069:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x80U) == 0x80U)
1070:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1071:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_FlushTxFifo(hpcd->Instance, ep_addr & 0x7FU);
1072:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1073:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
1074:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1075:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_FlushRxFifo(hpcd->Instance);
1076:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1077:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1078:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
1079:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1080:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
1081:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1082:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1083:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1084:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  HAL_PCD_ActivateRemoteWakeup : active remote wakeup signalling
1085:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1086:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1087:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1088:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_ActivateRemoteWakeup(PCD_HandleTypeDef *hpcd)
1089:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
1090:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return(USB_ActivateRemoteWakeup(hpcd->Instance));
1091:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1092:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1093:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1094:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  HAL_PCD_DeActivateRemoteWakeup : de-active remote wakeup signalling
1095:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1096:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1097:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1098:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DeActivateRemoteWakeup(PCD_HandleTypeDef *hpcd)
1099:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
1100:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return(USB_DeActivateRemoteWakeup(hpcd->Instance));
1101:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1102:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1103:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
1104:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1105:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1106:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group4 Peripheral State functions 
1107:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief   Peripheral State functions
1108:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
1109:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
1110:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
1111:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                       ##### Peripheral State functions #####
1112:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
1113:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
1114:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     This subsection permits to get in run-time the status of the peripheral 
1115:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     and the data flow.
1116:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1117:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
1118:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
1119:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1120:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1121:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1122:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Return the PCD state
1123:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
ARM GAS  /tmp/cczGGbmv.s 			page 40


1124:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL state
1125:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1126:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** PCD_StateTypeDef HAL_PCD_GetState(PCD_HandleTypeDef *hpcd)
1127:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
1128:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return hpcd->State;
1129:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1130:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1131:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1132:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
1133:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1134:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1135:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1136:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
1137:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1138:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1139:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @addtogroup PCD_Private_Functions
1140:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
1141:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1142:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB_OTG_FS)
1143:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1144:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  DCD_WriteEmptyTxFifo
1145:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *         check FIFO for the next packet to be loaded
1146:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1147:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum : endpoint number
1148:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *          This parameter can be a value from 0 to 15  
1149:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1150:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1151:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_WriteEmptyTxFifo(PCD_HandleTypeDef *hpcd, uint32_t epnum)
1152:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
1153:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_GlobalTypeDef *USBx = hpcd->Instance;  
1154:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_EPTypeDef *ep = NULL;
1155:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   int32_t len = 0;
1156:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t len32b = 0U;
1157:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t fifoemptymsk = 0U;
1158:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1159:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep = &hpcd->IN_ep[epnum];
1160:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   len = ep->xfer_len - ep->xfer_count;
1161:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1162:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (len > ep->maxpacket)
1163:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1164:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     len = ep->maxpacket;
1165:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1166:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1167:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   len32b = (len + 3U) / 4U;
1168:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1169:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   while ((USBx_INEP(epnum)->DTXFSTS & USB_OTG_DTXFSTS_INEPTFSAV) > len32b &&
1170:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          ep->xfer_count < ep->xfer_len &&
1171:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          ep->xfer_len != 0U)
1172:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1173:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Write the FIFO */
1174:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     len = ep->xfer_len - ep->xfer_count;
1175:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1176:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if ((uint32_t)len > ep->maxpacket)
1177:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
1178:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       len = ep->maxpacket;
1179:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
1180:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     len32b = (len + 3U) / 4U;
ARM GAS  /tmp/cczGGbmv.s 			page 41


1181:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1182:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_WritePacket(USBx, ep->xfer_buff, epnum, len);
1183:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1184:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep->xfer_buff  += len;
1185:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep->xfer_count += len;
1186:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1187:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1188:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(len <= 0)
1189:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1190:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     fifoemptymsk = 0x01U << epnum;
1191:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USBx_DEVICE->DIEPEMPMSK &= ~fifoemptymsk;
1192:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1193:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1194:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1195:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
1196:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1197:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB_OTG_FS */
1198:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1199:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB)
1200:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1201:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  This function handles PCD Endpoint interrupt request.
1202:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1203:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1204:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1205:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_EP_ISR_Handler(PCD_HandleTypeDef *hpcd)
1206:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1094              		.loc 1 1206 0
 1095              		.cfi_startproc
 1096              		@ args = 0, pretend = 0, frame = 8
 1097              		@ frame_needed = 0, uses_anonymous_args = 0
 1098              	.LVL114:
 1099 0000 70B5     		push	{r4, r5, r6, lr}
 1100              	.LCFI22:
 1101              		.cfi_def_cfa_offset 16
 1102              		.cfi_offset 4, -16
 1103              		.cfi_offset 5, -12
 1104              		.cfi_offset 6, -8
 1105              		.cfi_offset 14, -4
 1106 0002 82B0     		sub	sp, sp, #8
 1107              	.LCFI23:
 1108              		.cfi_def_cfa_offset 24
 1109 0004 0546     		mov	r5, r0
 1110              	.LVL115:
1207:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
1208:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint16_t count = 0;
1209:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint8_t epindex = 0;
1210:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __IO uint16_t wIstr = 0;  
 1111              		.loc 1 1210 0
 1112 0006 0023     		movs	r3, #0
 1113 0008 ADF80630 		strh	r3, [sp, #6]	@ movhi
1211:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __IO uint16_t wEPVal = 0;
 1114              		.loc 1 1211 0
 1115 000c ADF80430 		strh	r3, [sp, #4]	@ movhi
1212:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1213:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* stay in loop while pending interrupts */
1214:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   while (((wIstr = hpcd->Instance->ISTR) & USB_ISTR_CTR) != 0)
 1116              		.loc 1 1214 0
ARM GAS  /tmp/cczGGbmv.s 			page 42


 1117 0010 16E2     		b	.L77
 1118              	.LVL116:
 1119              	.L99:
1215:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1216:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* extract highest priority endpoint number */
1217:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     epindex = (uint8_t)(wIstr & USB_ISTR_EP_ID);
 1120              		.loc 1 1217 0
 1121 0012 BDF80640 		ldrh	r4, [sp, #6]
 1122              	.LVL117:
1218:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1219:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if (epindex == 0)
 1123              		.loc 1 1219 0
 1124 0016 14F00F04 		ands	r4, r4, #15
 1125              	.LVL118:
 1126 001a 40F0C880 		bne	.L78
1220:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
1221:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Decode and service control endpoint interrupt */
1222:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
1223:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* DIR bit = origin of the interrupt */   
1224:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if ((wIstr & USB_ISTR_DIR) == 0)
 1127              		.loc 1 1224 0
 1128 001e BDF80630 		ldrh	r3, [sp, #6]
 1129 0022 03F01003 		and	r3, r3, #16
 1130 0026 9BB2     		uxth	r3, r3
 1131 0028 9BBB     		cbnz	r3, .L79
1225:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
1226:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 0 */
1227:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1228:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 0      => IN  int */
1229:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 0 implies that (EP_CTR_TX = 1) always  */
1230:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         PCD_CLEAR_TX_EP_CTR(hpcd->Instance, PCD_ENDP0);
 1132              		.loc 1 1230 0
 1133 002a 0388     		ldrh	r3, [r0]
 1134 002c 9BB2     		uxth	r3, r3
 1135 002e 23F4E143 		bic	r3, r3, #28800
 1136 0032 23F07003 		bic	r3, r3, #112
 1137 0036 9BB2     		uxth	r3, r3
 1138 0038 0380     		strh	r3, [r0]	@ movhi
 1139              	.LVL119:
1231:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->IN_ep[0];
1232:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1233:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 1140              		.loc 1 1233 0
 1141 003a 2968     		ldr	r1, [r5]
 1142 003c B1F85030 		ldrh	r3, [r1, #80]
 1143 0040 9AB2     		uxth	r2, r3
 1144 0042 95F82830 		ldrb	r3, [r5, #40]	@ zero_extendqisi2
 1145 0046 02EBC303 		add	r3, r2, r3, lsl #3
 1146 004a 0233     		adds	r3, r3, #2
 1147 004c 01EB4303 		add	r3, r1, r3, lsl #1
 1148 0050 D3F80034 		ldr	r3, [r3, #1024]
 1149 0054 C3F30903 		ubfx	r3, r3, #0, #10
 1150 0058 6B64     		str	r3, [r5, #68]
1234:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_buff += ep->xfer_count;
 1151              		.loc 1 1234 0
 1152 005a EA6B     		ldr	r2, [r5, #60]
 1153 005c 1344     		add	r3, r3, r2
ARM GAS  /tmp/cczGGbmv.s 			page 43


 1154 005e EB63     		str	r3, [r5, #60]
1235:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
1236:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* TX COMPLETE */
1237:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         HAL_PCD_DataInStageCallback(hpcd, 0U);
 1155              		.loc 1 1237 0
 1156 0060 0021     		movs	r1, #0
 1157 0062 2846     		mov	r0, r5
 1158 0064 FFF7FEFF 		bl	HAL_PCD_DataInStageCallback
 1159              	.LVL120:
1238:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1239:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1240:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if((hpcd->USB_Address > 0U)&& ( ep->xfer_len == 0U))
 1160              		.loc 1 1240 0
 1161 0068 95F82430 		ldrb	r3, [r5, #36]	@ zero_extendqisi2
 1162 006c 13F0FF0F 		tst	r3, #255
 1163 0070 00F0E681 		beq	.L77
 1164              		.loc 1 1240 0 is_stmt 0 discriminator 1
 1165 0074 2B6C     		ldr	r3, [r5, #64]
 1166 0076 002B     		cmp	r3, #0
 1167 0078 40F0E281 		bne	.L77
1241:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1242:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           hpcd->Instance->DADDR = (hpcd->USB_Address | USB_DADDR_EF);
 1168              		.loc 1 1242 0 is_stmt 1
 1169 007c 2A68     		ldr	r2, [r5]
 1170 007e 95F82430 		ldrb	r3, [r5, #36]	@ zero_extendqisi2
 1171 0082 43F08003 		orr	r3, r3, #128
 1172 0086 A2F84C30 		strh	r3, [r2, #76]	@ movhi
1243:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           hpcd->USB_Address = 0U;
 1173              		.loc 1 1243 0
 1174 008a 0023     		movs	r3, #0
 1175 008c 85F82430 		strb	r3, [r5, #36]
 1176 0090 D6E1     		b	.L77
 1177              	.LVL121:
 1178              	.L79:
1244:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1245:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1246:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
1247:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       else
1248:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
1249:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 1 */
1250:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1251:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 1 & CTR_RX       => SETUP or OUT int */
1252:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 1 & (CTR_TX | CTR_RX) => 2 int pending */
1253:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->OUT_ep[0U];
1254:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         wEPVal = PCD_GET_ENDPOINT(hpcd->Instance, PCD_ENDP0);
 1179              		.loc 1 1254 0
 1180 0092 0388     		ldrh	r3, [r0]
 1181 0094 9BB2     		uxth	r3, r3
 1182 0096 ADF80430 		strh	r3, [sp, #4]	@ movhi
1255:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1256:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if ((wEPVal & USB_EP_SETUP) != 0U)
 1183              		.loc 1 1256 0
 1184 009a BDF80430 		ldrh	r3, [sp, #4]
 1185 009e 03F40063 		and	r3, r3, #2048
 1186 00a2 9BB2     		uxth	r3, r3
 1187 00a4 03B3     		cbz	r3, .L81
1257:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
ARM GAS  /tmp/cczGGbmv.s 			page 44


1258:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Get SETUP Packet*/
1259:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 1188              		.loc 1 1259 0
 1189 00a6 B0F85030 		ldrh	r3, [r0, #80]
 1190 00aa 9BB2     		uxth	r3, r3
 1191 00ac 95F82822 		ldrb	r2, [r5, #552]	@ zero_extendqisi2
 1192 00b0 03EBC203 		add	r3, r3, r2, lsl #3
 1193 00b4 0633     		adds	r3, r3, #6
 1194 00b6 00EB4303 		add	r3, r0, r3, lsl #1
 1195 00ba D3F80034 		ldr	r3, [r3, #1024]
 1196 00be C3F30903 		ubfx	r3, r3, #0, #10
 1197 00c2 C5F84432 		str	r3, [r5, #580]
1260:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           USB_ReadPMA(hpcd->Instance, (uint8_t*)hpcd->Setup ,ep->pmaadress , ep->xfer_count);      
 1198              		.loc 1 1260 0
 1199 00c6 B5F82C22 		ldrh	r2, [r5, #556]
 1200 00ca 05F22C41 		addw	r1, r5, #1068
 1201 00ce FFF7FEFF 		bl	USB_ReadPMA
 1202              	.LVL122:
1261:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* SETUP bit kept frozen while CTR_RX = 1*/ 
1262:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_CLEAR_RX_EP_CTR(hpcd->Instance, PCD_ENDP0); 
 1203              		.loc 1 1262 0
 1204 00d2 2A68     		ldr	r2, [r5]
 1205 00d4 1388     		ldrh	r3, [r2]
 1206 00d6 23F07003 		bic	r3, r3, #112
 1207 00da 1B05     		lsls	r3, r3, #20
 1208 00dc 1B0D     		lsrs	r3, r3, #20
 1209 00de 1380     		strh	r3, [r2]	@ movhi
1263:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1264:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Process SETUP Packet*/
1265:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_SetupStageCallback(hpcd);
 1210              		.loc 1 1265 0
 1211 00e0 2846     		mov	r0, r5
 1212 00e2 FFF7FEFF 		bl	HAL_PCD_SetupStageCallback
 1213              	.LVL123:
 1214 00e6 ABE1     		b	.L77
 1215              	.L81:
1266:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1267:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1268:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else if ((wEPVal & USB_EP_CTR_RX) != 0U)
 1216              		.loc 1 1268 0
 1217 00e8 BDF80430 		ldrh	r3, [sp, #4]
 1218 00ec 13F4004F 		tst	r3, #32768
 1219 00f0 00F0A681 		beq	.L77
1269:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1270:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_CLEAR_RX_EP_CTR(hpcd->Instance, PCD_ENDP0);
 1220              		.loc 1 1270 0
 1221 00f4 0388     		ldrh	r3, [r0]
 1222 00f6 23F07003 		bic	r3, r3, #112
 1223 00fa 1B05     		lsls	r3, r3, #20
 1224 00fc 1B0D     		lsrs	r3, r3, #20
 1225 00fe 0380     		strh	r3, [r0]	@ movhi
1271:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Get Control Data OUT Packet*/
1272:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 1226              		.loc 1 1272 0
 1227 0100 2868     		ldr	r0, [r5]
 1228 0102 B0F85030 		ldrh	r3, [r0, #80]
 1229 0106 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cczGGbmv.s 			page 45


 1230 0108 95F82822 		ldrb	r2, [r5, #552]	@ zero_extendqisi2
 1231 010c 03EBC203 		add	r3, r3, r2, lsl #3
 1232 0110 0633     		adds	r3, r3, #6
 1233 0112 00EB4303 		add	r3, r0, r3, lsl #1
 1234 0116 D3F80034 		ldr	r3, [r3, #1024]
 1235 011a C3F30903 		ubfx	r3, r3, #0, #10
 1236 011e C5F84432 		str	r3, [r5, #580]
1273:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1274:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (ep->xfer_count != 0U)
 1237              		.loc 1 1274 0
 1238 0122 63B1     		cbz	r3, .L82
1275:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1276:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, ep->xfer_count);
 1239              		.loc 1 1276 0
 1240 0124 B5F82C22 		ldrh	r2, [r5, #556]
 1241 0128 D5F83C12 		ldr	r1, [r5, #572]
 1242 012c FFF7FEFF 		bl	USB_ReadPMA
 1243              	.LVL124:
1277:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ep->xfer_buff+=ep->xfer_count;
 1244              		.loc 1 1277 0
 1245 0130 D5F83C22 		ldr	r2, [r5, #572]
 1246 0134 D5F84432 		ldr	r3, [r5, #580]
 1247 0138 1344     		add	r3, r3, r2
 1248 013a C5F83C32 		str	r3, [r5, #572]
 1249              	.L82:
1278:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1279:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1280:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Process Control Data OUT Packet*/
1281:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****            HAL_PCD_DataOutStageCallback(hpcd, 0U);
 1250              		.loc 1 1281 0
 1251 013e 0021     		movs	r1, #0
 1252 0140 2846     		mov	r0, r5
 1253 0142 FFF7FEFF 		bl	HAL_PCD_DataOutStageCallback
 1254              	.LVL125:
 1255              	.LBB2:
1282:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1283:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_SET_EP_RX_CNT(hpcd->Instance, PCD_ENDP0, ep->maxpacket);
 1256              		.loc 1 1283 0
 1257 0146 2A68     		ldr	r2, [r5]
 1258 0148 B2F85030 		ldrh	r3, [r2, #80]
 1259 014c 9BB2     		uxth	r3, r3
 1260 014e 0633     		adds	r3, r3, #6
 1261 0150 02EB4303 		add	r3, r2, r3, lsl #1
 1262              	.LVL126:
 1263              	.LBB3:
 1264 0154 D5F83812 		ldr	r1, [r5, #568]
 1265 0158 3E29     		cmp	r1, #62
 1266 015a 0ED9     		bls	.L83
 1267              		.loc 1 1283 0 is_stmt 0 discriminator 1
 1268 015c C1F34F12 		ubfx	r2, r1, #5, #16
 1269              	.LVL127:
 1270 0160 11F01F0F 		tst	r1, #31
 1271 0164 01D1     		bne	.L84
 1272              		.loc 1 1283 0 discriminator 3
 1273 0166 013A     		subs	r2, r2, #1
 1274              	.LVL128:
 1275 0168 92B2     		uxth	r2, r2
ARM GAS  /tmp/cczGGbmv.s 			page 46


 1276              	.LVL129:
 1277              	.L84:
 1278              		.loc 1 1283 0 discriminator 5
 1279 016a 6FEAC262 		mvn	r2, r2, lsl #27
 1280              	.LVL130:
 1281 016e 6FEA5242 		mvn	r2, r2, lsr #17
 1282 0172 92B2     		uxth	r2, r2
 1283 0174 C3F80024 		str	r2, [r3, #1024]
 1284 0178 0AE0     		b	.L85
 1285              	.L83:
 1286              		.loc 1 1283 0 discriminator 2
 1287 017a C1F34F02 		ubfx	r2, r1, #1, #16
 1288              	.LVL131:
 1289 017e 11F0010F 		tst	r1, #1
 1290 0182 01D0     		beq	.L86
 1291              		.loc 1 1283 0 discriminator 6
 1292 0184 0132     		adds	r2, r2, #1
 1293              	.LVL132:
 1294 0186 92B2     		uxth	r2, r2
 1295              	.LVL133:
 1296              	.L86:
 1297              		.loc 1 1283 0 discriminator 8
 1298 0188 9202     		lsls	r2, r2, #10
 1299              	.LVL134:
 1300 018a 92B2     		uxth	r2, r2
 1301 018c C3F80024 		str	r2, [r3, #1024]
 1302              	.L85:
 1303              	.LBE3:
 1304              	.LBE2:
 1305              	.LBB4:
1284:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_SET_EP_RX_STATUS(hpcd->Instance, PCD_ENDP0, USB_EP_RX_VALID);
 1306              		.loc 1 1284 0 is_stmt 1
 1307 0190 2A68     		ldr	r2, [r5]
 1308 0192 1388     		ldrh	r3, [r2]
 1309              	.LVL135:
 1310 0194 9BB2     		uxth	r3, r3
 1311 0196 23F48043 		bic	r3, r3, #16384
 1312 019a 23F07003 		bic	r3, r3, #112
 1313              	.LVL136:
 1314 019e 83F44053 		eor	r3, r3, #12288
 1315              	.LVL137:
 1316 01a2 43F40043 		orr	r3, r3, #32768
 1317              	.LVL138:
 1318 01a6 43F08003 		orr	r3, r3, #128
 1319 01aa 1380     		strh	r3, [r2]	@ movhi
 1320 01ac 48E1     		b	.L77
 1321              	.LVL139:
 1322              	.L78:
 1323              	.LBE4:
1285:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1286:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
1287:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
1288:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     else
1289:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
1290:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Decode and service non control endpoints interrupt  */
1291:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 	  
1292:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* process related endpoint register */
ARM GAS  /tmp/cczGGbmv.s 			page 47


1293:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       wEPVal = PCD_GET_ENDPOINT(hpcd->Instance, epindex);
 1324              		.loc 1 1293 0
 1325 01ae 30F82430 		ldrh	r3, [r0, r4, lsl #2]
 1326 01b2 9BB2     		uxth	r3, r3
 1327 01b4 ADF80430 		strh	r3, [sp, #4]	@ movhi
1294:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if ((wEPVal & USB_EP_CTR_RX) != 0U)
 1328              		.loc 1 1294 0
 1329 01b8 BDF80430 		ldrh	r3, [sp, #4]
 1330 01bc 13F4004F 		tst	r3, #32768
 1331 01c0 00F09680 		beq	.L87
1295:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {  
1296:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* clear int flag */
1297:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         PCD_CLEAR_RX_EP_CTR(hpcd->Instance, epindex);
 1332              		.loc 1 1297 0
 1333 01c4 30F82430 		ldrh	r3, [r0, r4, lsl #2]
 1334 01c8 23F07003 		bic	r3, r3, #112
 1335 01cc 1B05     		lsls	r3, r3, #20
 1336 01ce 1B0D     		lsrs	r3, r3, #20
 1337 01d0 20F82430 		strh	r3, [r0, r4, lsl #2]	@ movhi
 1338              	.LVL140:
1298:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->OUT_ep[epindex];
1299:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1300:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* OUT double Buffering*/
1301:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep->doublebuffer == 0U)
 1339              		.loc 1 1301 0
 1340 01d4 05EB4413 		add	r3, r5, r4, lsl #5
 1341 01d8 93F83232 		ldrb	r3, [r3, #562]	@ zero_extendqisi2
 1342 01dc E3B9     		cbnz	r3, .L88
1302:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1303:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 1343              		.loc 1 1303 0
 1344 01de 2868     		ldr	r0, [r5]
 1345 01e0 B0F85030 		ldrh	r3, [r0, #80]
 1346 01e4 9BB2     		uxth	r3, r3
 1347 01e6 05EB4412 		add	r2, r5, r4, lsl #5
 1348 01ea 92F82822 		ldrb	r2, [r2, #552]	@ zero_extendqisi2
 1349 01ee 03EBC203 		add	r3, r3, r2, lsl #3
 1350 01f2 0633     		adds	r3, r3, #6
 1351 01f4 00EB4303 		add	r3, r0, r3, lsl #1
 1352 01f8 B3F80064 		ldrh	r6, [r3, #1024]
 1353 01fc C6F30906 		ubfx	r6, r6, #0, #10
 1354              	.LVL141:
1304:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (count != 0U)
 1355              		.loc 1 1304 0
 1356 0200 002E     		cmp	r6, #0
 1357 0202 52D0     		beq	.L89
1305:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1306:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, count);
 1358              		.loc 1 1306 0
 1359 0204 05EB4411 		add	r1, r5, r4, lsl #5
 1360 0208 3346     		mov	r3, r6
 1361 020a B1F82C22 		ldrh	r2, [r1, #556]
 1362 020e D1F83C12 		ldr	r1, [r1, #572]
 1363 0212 FFF7FEFF 		bl	USB_ReadPMA
 1364              	.LVL142:
 1365 0216 48E0     		b	.L89
 1366              	.LVL143:
ARM GAS  /tmp/cczGGbmv.s 			page 48


 1367              	.L88:
1307:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1308:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1309:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1310:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1311:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (PCD_GET_ENDPOINT(hpcd->Instance, ep->num) & USB_EP_DTOG_RX)
 1368              		.loc 1 1311 0
 1369 0218 2868     		ldr	r0, [r5]
 1370 021a 05EB4413 		add	r3, r5, r4, lsl #5
 1371 021e 93F82812 		ldrb	r1, [r3, #552]	@ zero_extendqisi2
 1372 0222 30F82130 		ldrh	r3, [r0, r1, lsl #2]
 1373 0226 03F48043 		and	r3, r3, #16384
 1374 022a 9BB2     		uxth	r3, r3
 1375 022c B3B1     		cbz	r3, .L90
1312:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1313:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF0Addr buffer*/
1314:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             count = PCD_GET_EP_DBUF0_CNT(hpcd->Instance, ep->num);
 1376              		.loc 1 1314 0
 1377 022e B0F85020 		ldrh	r2, [r0, #80]
 1378 0232 92B2     		uxth	r2, r2
 1379 0234 02EBC103 		add	r3, r2, r1, lsl #3
 1380 0238 0233     		adds	r3, r3, #2
 1381 023a 00EB4303 		add	r3, r0, r3, lsl #1
 1382 023e B3F80064 		ldrh	r6, [r3, #1024]
 1383 0242 C6F30906 		ubfx	r6, r6, #0, #10
 1384              	.LVL144:
1315:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (count != 0U)
 1385              		.loc 1 1315 0
 1386 0246 FEB1     		cbz	r6, .L91
1316:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1317:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr0, count);
 1387              		.loc 1 1317 0
 1388 0248 05EB4411 		add	r1, r5, r4, lsl #5
 1389 024c 3346     		mov	r3, r6
 1390 024e B1F82E22 		ldrh	r2, [r1, #558]
 1391 0252 D1F83C12 		ldr	r1, [r1, #572]
 1392 0256 FFF7FEFF 		bl	USB_ReadPMA
 1393              	.LVL145:
 1394 025a 15E0     		b	.L91
 1395              	.LVL146:
 1396              	.L90:
1318:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1319:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1320:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           else
1321:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1322:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF1Addr buffer*/
1323:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             count = PCD_GET_EP_DBUF1_CNT(hpcd->Instance, ep->num);
 1397              		.loc 1 1323 0
 1398 025c B0F85030 		ldrh	r3, [r0, #80]
 1399 0260 9BB2     		uxth	r3, r3
 1400 0262 03EBC103 		add	r3, r3, r1, lsl #3
 1401 0266 0633     		adds	r3, r3, #6
 1402 0268 00EB4303 		add	r3, r0, r3, lsl #1
 1403 026c B3F80064 		ldrh	r6, [r3, #1024]
 1404 0270 C6F30906 		ubfx	r6, r6, #0, #10
 1405              	.LVL147:
1324:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (count != 0U)
ARM GAS  /tmp/cczGGbmv.s 			page 49


 1406              		.loc 1 1324 0
 1407 0274 46B1     		cbz	r6, .L91
1325:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1326:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr1, count);
 1408              		.loc 1 1326 0
 1409 0276 05EB4411 		add	r1, r5, r4, lsl #5
 1410 027a 3346     		mov	r3, r6
 1411 027c B1F83022 		ldrh	r2, [r1, #560]
 1412 0280 D1F83C12 		ldr	r1, [r1, #572]
 1413 0284 FFF7FEFF 		bl	USB_ReadPMA
 1414              	.LVL148:
 1415              	.L91:
1327:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1328:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1329:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_FreeUserBuffer(hpcd->Instance, ep->num, PCD_EP_DBUF_OUT);  
 1416              		.loc 1 1329 0 discriminator 1
 1417 0288 2A68     		ldr	r2, [r5]
 1418 028a 05EB4413 		add	r3, r5, r4, lsl #5
 1419 028e 93F82812 		ldrb	r1, [r3, #552]	@ zero_extendqisi2
 1420 0292 32F82130 		ldrh	r3, [r2, r1, lsl #2]
 1421 0296 23F0F003 		bic	r3, r3, #240
 1422 029a 1B05     		lsls	r3, r3, #20
 1423 029c 1B0D     		lsrs	r3, r3, #20
 1424 029e 43F40043 		orr	r3, r3, #32768
 1425 02a2 43F0C003 		orr	r3, r3, #192
 1426 02a6 22F82130 		strh	r3, [r2, r1, lsl #2]	@ movhi
 1427              	.L89:
1330:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1331:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /*multi-packet on the NON control OUT endpoint*/
1332:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count+=count;
 1428              		.loc 1 1332 0
 1429 02aa 04F11203 		add	r3, r4, #18
 1430 02ae 5B01     		lsls	r3, r3, #5
 1431 02b0 E918     		adds	r1, r5, r3
 1432 02b2 4A68     		ldr	r2, [r1, #4]
 1433 02b4 3244     		add	r2, r2, r6
 1434 02b6 4A60     		str	r2, [r1, #4]
1333:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_buff+=count;
 1435              		.loc 1 1333 0
 1436 02b8 05EB4411 		add	r1, r5, r4, lsl #5
 1437 02bc D1F83C22 		ldr	r2, [r1, #572]
 1438 02c0 3244     		add	r2, r2, r6
 1439 02c2 C1F83C22 		str	r2, [r1, #572]
1334:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****        
1335:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if ((ep->xfer_len == 0U) || (count < ep->maxpacket))
 1440              		.loc 1 1335 0
 1441 02c6 EB58     		ldr	r3, [r5, r3]
 1442 02c8 1BB1     		cbz	r3, .L92
 1443              		.loc 1 1335 0 is_stmt 0 discriminator 1
 1444 02ca D1F83812 		ldr	r1, [r1, #568]
 1445 02ce 8E42     		cmp	r6, r1
 1446 02d0 07D2     		bcs	.L93
 1447              	.L92:
1336:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1337:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* RX COMPLETE */
1338:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_DataOutStageCallback(hpcd, ep->num);
 1448              		.loc 1 1338 0 is_stmt 1
ARM GAS  /tmp/cczGGbmv.s 			page 50


 1449 02d2 05EB4413 		add	r3, r5, r4, lsl #5
 1450 02d6 93F82812 		ldrb	r1, [r3, #552]	@ zero_extendqisi2
 1451 02da 2846     		mov	r0, r5
 1452 02dc FFF7FEFF 		bl	HAL_PCD_DataOutStageCallback
 1453              	.LVL149:
 1454 02e0 06E0     		b	.L87
 1455              	.L93:
1339:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1340:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1341:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1342:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_EP_Receive(hpcd, ep->num, ep->xfer_buff, ep->xfer_len);
 1456              		.loc 1 1342 0
 1457 02e2 05EB4411 		add	r1, r5, r4, lsl #5
 1458 02e6 91F82812 		ldrb	r1, [r1, #552]	@ zero_extendqisi2
 1459 02ea 2846     		mov	r0, r5
 1460 02ec FFF7FEFF 		bl	HAL_PCD_EP_Receive
 1461              	.LVL150:
 1462              	.L87:
1343:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1344:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1345:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       } /* if((wEPVal & EP_CTR_RX) */
1346:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
1347:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if ((wEPVal & USB_EP_CTR_TX) != 0U)
 1463              		.loc 1 1347 0
 1464 02f0 BDF80430 		ldrh	r3, [sp, #4]
 1465 02f4 03F08003 		and	r3, r3, #128
 1466 02f8 9BB2     		uxth	r3, r3
 1467 02fa 002B     		cmp	r3, #0
 1468 02fc 00F0A080 		beq	.L77
 1469              	.LVL151:
1348:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
1349:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->IN_ep[epindex];
1350:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1351:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* clear int flag */
1352:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         PCD_CLEAR_TX_EP_CTR(hpcd->Instance, epindex);
 1470              		.loc 1 1352 0
 1471 0300 2A68     		ldr	r2, [r5]
 1472 0302 32F82430 		ldrh	r3, [r2, r4, lsl #2]
 1473 0306 9BB2     		uxth	r3, r3
 1474 0308 23F4E143 		bic	r3, r3, #28800
 1475 030c 23F07003 		bic	r3, r3, #112
 1476 0310 9BB2     		uxth	r3, r3
 1477 0312 22F82430 		strh	r3, [r2, r4, lsl #2]	@ movhi
1353:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1354:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* IN double Buffering*/
1355:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep->doublebuffer == 0U)
 1478              		.loc 1 1355 0
 1479 0316 05EB4413 		add	r3, r5, r4, lsl #5
 1480 031a 93F83230 		ldrb	r3, [r3, #50]	@ zero_extendqisi2
 1481 031e EBB9     		cbnz	r3, .L94
1356:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1357:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 1482              		.loc 1 1357 0
 1483 0320 2868     		ldr	r0, [r5]
 1484 0322 B0F85030 		ldrh	r3, [r0, #80]
 1485 0326 9BB2     		uxth	r3, r3
 1486 0328 05EB4412 		add	r2, r5, r4, lsl #5
ARM GAS  /tmp/cczGGbmv.s 			page 51


 1487 032c 92F82820 		ldrb	r2, [r2, #40]	@ zero_extendqisi2
 1488 0330 03EBC203 		add	r3, r3, r2, lsl #3
 1489 0334 0233     		adds	r3, r3, #2
 1490 0336 00EB4303 		add	r3, r0, r3, lsl #1
 1491 033a D3F80034 		ldr	r3, [r3, #1024]
 1492 033e C3F30903 		ubfx	r3, r3, #0, #10
 1493 0342 A21C     		adds	r2, r4, #2
 1494 0344 05EB4212 		add	r2, r5, r2, lsl #5
 1495 0348 5360     		str	r3, [r2, #4]
1358:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (ep->xfer_count != 0U)
 1496              		.loc 1 1358 0
 1497 034a 002B     		cmp	r3, #0
 1498 034c 51D0     		beq	.L95
1359:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1360:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USB_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, ep->xfer_count);
 1499              		.loc 1 1360 0
 1500 034e 05EB4411 		add	r1, r5, r4, lsl #5
 1501 0352 8A8D     		ldrh	r2, [r1, #44]
 1502 0354 C96B     		ldr	r1, [r1, #60]
 1503 0356 FFF7FEFF 		bl	USB_WritePMA
 1504              	.LVL152:
 1505 035a 4AE0     		b	.L95
 1506              	.L94:
1361:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1362:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1363:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1364:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1365:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (PCD_GET_ENDPOINT(hpcd->Instance, ep->num) & USB_EP_DTOG_TX)
 1507              		.loc 1 1365 0
 1508 035c 2868     		ldr	r0, [r5]
 1509 035e 05EB4413 		add	r3, r5, r4, lsl #5
 1510 0362 93F82810 		ldrb	r1, [r3, #40]	@ zero_extendqisi2
 1511 0366 30F82130 		ldrh	r3, [r0, r1, lsl #2]
 1512 036a 03F04003 		and	r3, r3, #64
 1513 036e 9BB2     		uxth	r3, r3
 1514 0370 BBB1     		cbz	r3, .L96
1366:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1367:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF0Addr buffer*/
1368:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ep->xfer_count = PCD_GET_EP_DBUF0_CNT(hpcd->Instance, ep->num);
 1515              		.loc 1 1368 0
 1516 0372 B0F85020 		ldrh	r2, [r0, #80]
 1517 0376 92B2     		uxth	r2, r2
 1518 0378 02EBC103 		add	r3, r2, r1, lsl #3
 1519 037c 0233     		adds	r3, r3, #2
 1520 037e 00EB4303 		add	r3, r0, r3, lsl #1
 1521 0382 D3F80034 		ldr	r3, [r3, #1024]
 1522 0386 C3F30903 		ubfx	r3, r3, #0, #10
 1523 038a A21C     		adds	r2, r4, #2
 1524 038c 05EB4212 		add	r2, r5, r2, lsl #5
 1525 0390 5360     		str	r3, [r2, #4]
1369:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (ep->xfer_count != 0U)
 1526              		.loc 1 1369 0
 1527 0392 EBB1     		cbz	r3, .L97
1370:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1371:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr0, ep->xfer_count);
 1528              		.loc 1 1371 0
 1529 0394 05EB4411 		add	r1, r5, r4, lsl #5
ARM GAS  /tmp/cczGGbmv.s 			page 52


 1530 0398 CA8D     		ldrh	r2, [r1, #46]
 1531 039a C96B     		ldr	r1, [r1, #60]
 1532 039c FFF7FEFF 		bl	USB_WritePMA
 1533              	.LVL153:
 1534 03a0 16E0     		b	.L97
 1535              	.L96:
1372:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1373:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1374:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           else
1375:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1376:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF1Addr buffer*/
1377:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ep->xfer_count = PCD_GET_EP_DBUF1_CNT(hpcd->Instance, ep->num);
 1536              		.loc 1 1377 0
 1537 03a2 B0F85030 		ldrh	r3, [r0, #80]
 1538 03a6 9BB2     		uxth	r3, r3
 1539 03a8 03EBC103 		add	r3, r3, r1, lsl #3
 1540 03ac 0633     		adds	r3, r3, #6
 1541 03ae 00EB4303 		add	r3, r0, r3, lsl #1
 1542 03b2 D3F80034 		ldr	r3, [r3, #1024]
 1543 03b6 C3F30903 		ubfx	r3, r3, #0, #10
 1544 03ba A21C     		adds	r2, r4, #2
 1545 03bc 05EB4212 		add	r2, r5, r2, lsl #5
 1546 03c0 5360     		str	r3, [r2, #4]
1378:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (ep->xfer_count != 0U)
 1547              		.loc 1 1378 0
 1548 03c2 2BB1     		cbz	r3, .L97
1379:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1380:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr1, ep->xfer_count);
 1549              		.loc 1 1380 0
 1550 03c4 05EB4411 		add	r1, r5, r4, lsl #5
 1551 03c8 0A8E     		ldrh	r2, [r1, #48]
 1552 03ca C96B     		ldr	r1, [r1, #60]
 1553 03cc FFF7FEFF 		bl	USB_WritePMA
 1554              	.LVL154:
 1555              	.L97:
1381:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1382:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1383:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_FreeUserBuffer(hpcd->Instance, ep->num, PCD_EP_DBUF_IN);  
 1556              		.loc 1 1383 0 discriminator 3
 1557 03d0 2A68     		ldr	r2, [r5]
 1558 03d2 05EB4413 		add	r3, r5, r4, lsl #5
 1559 03d6 93F82810 		ldrb	r1, [r3, #40]	@ zero_extendqisi2
 1560 03da 32F82130 		ldrh	r3, [r2, r1, lsl #2]
 1561 03de 23F0F003 		bic	r3, r3, #240
 1562 03e2 1B05     		lsls	r3, r3, #20
 1563 03e4 1B0D     		lsrs	r3, r3, #20
 1564 03e6 43F44043 		orr	r3, r3, #49152
 1565 03ea 43F08003 		orr	r3, r3, #128
 1566 03ee 22F82130 		strh	r3, [r2, r1, lsl #2]	@ movhi
 1567              	.L95:
1384:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1385:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /*multi-packet on the NON control IN endpoint*/
1386:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 1568              		.loc 1 1386 0
 1569 03f2 2968     		ldr	r1, [r5]
 1570 03f4 B1F85030 		ldrh	r3, [r1, #80]
 1571 03f8 9AB2     		uxth	r2, r3
ARM GAS  /tmp/cczGGbmv.s 			page 53


 1572 03fa 05EB4410 		add	r0, r5, r4, lsl #5
 1573 03fe 90F82830 		ldrb	r3, [r0, #40]	@ zero_extendqisi2
 1574 0402 02EBC303 		add	r3, r2, r3, lsl #3
 1575 0406 0233     		adds	r3, r3, #2
 1576 0408 01EB4303 		add	r3, r1, r3, lsl #1
 1577 040c D3F80034 		ldr	r3, [r3, #1024]
 1578 0410 C3F30903 		ubfx	r3, r3, #0, #10
 1579 0414 A11C     		adds	r1, r4, #2
 1580 0416 4901     		lsls	r1, r1, #5
 1581 0418 6A18     		adds	r2, r5, r1
 1582 041a 5360     		str	r3, [r2, #4]
1387:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_buff+=ep->xfer_count;
 1583              		.loc 1 1387 0
 1584 041c C26B     		ldr	r2, [r0, #60]
 1585 041e 1A44     		add	r2, r2, r3
 1586 0420 C263     		str	r2, [r0, #60]
1388:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****        
1389:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* Zero Length Packet? */
1390:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep->xfer_len == 0U)
 1587              		.loc 1 1390 0
 1588 0422 6B58     		ldr	r3, [r5, r1]
 1589 0424 2BB9     		cbnz	r3, .L98
1391:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1392:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* TX COMPLETE */
1393:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_DataInStageCallback(hpcd, ep->num);
 1590              		.loc 1 1393 0
 1591 0426 90F82810 		ldrb	r1, [r0, #40]	@ zero_extendqisi2
 1592 042a 2846     		mov	r0, r5
 1593 042c FFF7FEFF 		bl	HAL_PCD_DataInStageCallback
 1594              	.LVL155:
 1595 0430 06E0     		b	.L77
 1596              	.L98:
1394:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1395:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1396:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1397:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_EP_Transmit(hpcd, ep->num, ep->xfer_buff, ep->xfer_len);
 1597              		.loc 1 1397 0
 1598 0432 05EB4414 		add	r4, r5, r4, lsl #5
 1599              	.LVL156:
 1600 0436 94F82810 		ldrb	r1, [r4, #40]	@ zero_extendqisi2
 1601 043a 2846     		mov	r0, r5
 1602 043c FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 1603              	.LVL157:
 1604              	.L77:
1214:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1605              		.loc 1 1214 0
 1606 0440 2868     		ldr	r0, [r5]
 1607 0442 B0F84430 		ldrh	r3, [r0, #68]
 1608 0446 9BB2     		uxth	r3, r3
 1609 0448 ADF80630 		strh	r3, [sp, #6]	@ movhi
 1610 044c 13F4004F 		tst	r3, #32768
 1611 0450 7FF4DFAD 		bne	.L99
1398:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1399:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       } 
1400:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
1401:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1402:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
ARM GAS  /tmp/cczGGbmv.s 			page 54


1403:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1612              		.loc 1 1403 0
 1613 0454 0020     		movs	r0, #0
 1614 0456 02B0     		add	sp, sp, #8
 1615              	.LCFI24:
 1616              		.cfi_def_cfa_offset 16
 1617              		@ sp needed
 1618 0458 70BD     		pop	{r4, r5, r6, pc}
 1619              		.cfi_endproc
 1620              	.LFE96:
 1622 045a 00BF     		.section	.text.HAL_PCD_IRQHandler,"ax",%progbits
 1623              		.align	2
 1624              		.global	HAL_PCD_IRQHandler
 1625              		.thumb
 1626              		.thumb_func
 1628              	HAL_PCD_IRQHandler:
 1629              	.LFB70:
 572:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_CTR))
 1630              		.loc 1 572 0
 1631              		.cfi_startproc
 1632              		@ args = 0, pretend = 0, frame = 0
 1633              		@ frame_needed = 0, uses_anonymous_args = 0
 1634              	.LVL158:
 1635 0000 10B5     		push	{r4, lr}
 1636              	.LCFI25:
 1637              		.cfi_def_cfa_offset 8
 1638              		.cfi_offset 4, -8
 1639              		.cfi_offset 14, -4
 1640 0002 0446     		mov	r4, r0
 573:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1641              		.loc 1 573 0
 1642 0004 0068     		ldr	r0, [r0]
 1643              	.LVL159:
 1644 0006 FFF7FEFF 		bl	USB_ReadInterrupts
 1645              	.LVL160:
 1646 000a 10F4004F 		tst	r0, #32768
 1647 000e 02D0     		beq	.L102
 577:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1648              		.loc 1 577 0
 1649 0010 2046     		mov	r0, r4
 1650 0012 FFF7FEFF 		bl	PCD_EP_ISR_Handler
 1651              	.LVL161:
 1652              	.L102:
 580:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1653              		.loc 1 580 0
 1654 0016 2068     		ldr	r0, [r4]
 1655 0018 FFF7FEFF 		bl	USB_ReadInterrupts
 1656              	.LVL162:
 1657 001c 10F4806F 		tst	r0, #1024
 1658 0020 0FD0     		beq	.L103
 582:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_ResetCallback(hpcd);
 1659              		.loc 1 582 0
 1660 0022 2268     		ldr	r2, [r4]
 1661 0024 B2F84430 		ldrh	r3, [r2, #68]
 1662 0028 9BB2     		uxth	r3, r3
 1663 002a 23F48063 		bic	r3, r3, #1024
 1664 002e 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cczGGbmv.s 			page 55


 1665 0030 A2F84430 		strh	r3, [r2, #68]	@ movhi
 583:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_SetAddress(hpcd, 0U);
 1666              		.loc 1 583 0
 1667 0034 2046     		mov	r0, r4
 1668 0036 FFF7FEFF 		bl	HAL_PCD_ResetCallback
 1669              	.LVL163:
 584:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1670              		.loc 1 584 0
 1671 003a 0021     		movs	r1, #0
 1672 003c 2046     		mov	r0, r4
 1673 003e FFF7FEFF 		bl	HAL_PCD_SetAddress
 1674              	.LVL164:
 1675              	.L103:
 587:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1676              		.loc 1 587 0
 1677 0042 2068     		ldr	r0, [r4]
 1678 0044 FFF7FEFF 		bl	USB_ReadInterrupts
 1679              	.LVL165:
 1680 0048 10F4804F 		tst	r0, #16384
 1681 004c 08D0     		beq	.L104
 589:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1682              		.loc 1 589 0
 1683 004e 2268     		ldr	r2, [r4]
 1684 0050 B2F84430 		ldrh	r3, [r2, #68]
 1685 0054 9BB2     		uxth	r3, r3
 1686 0056 23F48043 		bic	r3, r3, #16384
 1687 005a 9BB2     		uxth	r3, r3
 1688 005c A2F84430 		strh	r3, [r2, #68]	@ movhi
 1689              	.L104:
 591:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1690              		.loc 1 591 0
 1691 0060 2068     		ldr	r0, [r4]
 1692 0062 FFF7FEFF 		bl	USB_ReadInterrupts
 1693              	.LVL166:
 1694 0066 10F4005F 		tst	r0, #8192
 1695 006a 08D0     		beq	.L105
 593:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1696              		.loc 1 593 0
 1697 006c 2268     		ldr	r2, [r4]
 1698 006e B2F84430 		ldrh	r3, [r2, #68]
 1699 0072 9BB2     		uxth	r3, r3
 1700 0074 23F40053 		bic	r3, r3, #8192
 1701 0078 9BB2     		uxth	r3, r3
 1702 007a A2F84430 		strh	r3, [r2, #68]	@ movhi
 1703              	.L105:
 596:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1704              		.loc 1 596 0
 1705 007e 2068     		ldr	r0, [r4]
 1706 0080 FFF7FEFF 		bl	USB_ReadInterrupts
 1707              	.LVL167:
 1708 0084 10F4805F 		tst	r0, #4096
 1709 0088 1DD0     		beq	.L106
 598:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR &= ~(USB_CNTR_FSUSP);
 1710              		.loc 1 598 0
 1711 008a 2268     		ldr	r2, [r4]
 1712 008c B2F84030 		ldrh	r3, [r2, #64]
 1713 0090 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cczGGbmv.s 			page 56


 1714 0092 23F00403 		bic	r3, r3, #4
 1715 0096 9BB2     		uxth	r3, r3
 1716 0098 A2F84030 		strh	r3, [r2, #64]	@ movhi
 599:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 1717              		.loc 1 599 0
 1718 009c 2268     		ldr	r2, [r4]
 1719 009e B2F84030 		ldrh	r3, [r2, #64]
 1720 00a2 9BB2     		uxth	r3, r3
 1721 00a4 23F00803 		bic	r3, r3, #8
 1722 00a8 9BB2     		uxth	r3, r3
 1723 00aa A2F84030 		strh	r3, [r2, #64]	@ movhi
 601:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 1724              		.loc 1 601 0
 1725 00ae 2046     		mov	r0, r4
 1726 00b0 FFF7FEFF 		bl	HAL_PCD_ResumeCallback
 1727              	.LVL168:
 603:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1728              		.loc 1 603 0
 1729 00b4 2268     		ldr	r2, [r4]
 1730 00b6 B2F84430 		ldrh	r3, [r2, #68]
 1731 00ba 9BB2     		uxth	r3, r3
 1732 00bc 23F48053 		bic	r3, r3, #4096
 1733 00c0 9BB2     		uxth	r3, r3
 1734 00c2 A2F84430 		strh	r3, [r2, #68]	@ movhi
 1735              	.L106:
 606:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   { 
 1736              		.loc 1 606 0
 1737 00c6 2068     		ldr	r0, [r4]
 1738 00c8 FFF7FEFF 		bl	USB_ReadInterrupts
 1739              	.LVL169:
 1740 00cc 10F4006F 		tst	r0, #2048
 1741 00d0 21D0     		beq	.L107
 609:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 1742              		.loc 1 609 0
 1743 00d2 2268     		ldr	r2, [r4]
 1744 00d4 B2F84030 		ldrh	r3, [r2, #64]
 1745 00d8 9BB2     		uxth	r3, r3
 1746 00da 43F00803 		orr	r3, r3, #8
 1747 00de A2F84030 		strh	r3, [r2, #64]	@ movhi
 612:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 1748              		.loc 1 612 0
 1749 00e2 2268     		ldr	r2, [r4]
 1750 00e4 B2F84430 		ldrh	r3, [r2, #68]
 1751 00e8 9BB2     		uxth	r3, r3
 1752 00ea 23F40063 		bic	r3, r3, #2048
 1753 00ee 9BB2     		uxth	r3, r3
 1754 00f0 A2F84430 		strh	r3, [r2, #68]	@ movhi
 614:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_WKUP) == 0U)
 1755              		.loc 1 614 0
 1756 00f4 2268     		ldr	r2, [r4]
 1757 00f6 B2F84030 		ldrh	r3, [r2, #64]
 1758 00fa 9BB2     		uxth	r3, r3
 1759 00fc 43F00403 		orr	r3, r3, #4
 1760 0100 A2F84030 		strh	r3, [r2, #64]	@ movhi
 615:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 1761              		.loc 1 615 0
 1762 0104 2068     		ldr	r0, [r4]
ARM GAS  /tmp/cczGGbmv.s 			page 57


 1763 0106 FFF7FEFF 		bl	USB_ReadInterrupts
 1764              	.LVL170:
 1765 010a 10F4805F 		tst	r0, #4096
 1766 010e 02D1     		bne	.L107
 617:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 1767              		.loc 1 617 0
 1768 0110 2046     		mov	r0, r4
 1769 0112 FFF7FEFF 		bl	HAL_PCD_SuspendCallback
 1770              	.LVL171:
 1771              	.L107:
 621:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1772              		.loc 1 621 0
 1773 0116 2068     		ldr	r0, [r4]
 1774 0118 FFF7FEFF 		bl	USB_ReadInterrupts
 1775              	.LVL172:
 1776 011c 10F4007F 		tst	r0, #512
 1777 0120 0BD0     		beq	.L108
 623:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_SOFCallback(hpcd);
 1778              		.loc 1 623 0
 1779 0122 2268     		ldr	r2, [r4]
 1780 0124 B2F84430 		ldrh	r3, [r2, #68]
 1781 0128 9BB2     		uxth	r3, r3
 1782 012a 23F40073 		bic	r3, r3, #512
 1783 012e 9BB2     		uxth	r3, r3
 1784 0130 A2F84430 		strh	r3, [r2, #68]	@ movhi
 624:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1785              		.loc 1 624 0
 1786 0134 2046     		mov	r0, r4
 1787 0136 FFF7FEFF 		bl	HAL_PCD_SOFCallback
 1788              	.LVL173:
 1789              	.L108:
 627:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1790              		.loc 1 627 0
 1791 013a 2068     		ldr	r0, [r4]
 1792 013c FFF7FEFF 		bl	USB_ReadInterrupts
 1793              	.LVL174:
 1794 0140 10F4807F 		tst	r0, #256
 1795 0144 08D0     		beq	.L101
 630:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1796              		.loc 1 630 0
 1797 0146 2268     		ldr	r2, [r4]
 1798 0148 B2F84430 		ldrh	r3, [r2, #68]
 1799 014c 9BB2     		uxth	r3, r3
 1800 014e 23F48073 		bic	r3, r3, #256
 1801 0152 9BB2     		uxth	r3, r3
 1802 0154 A2F84430 		strh	r3, [r2, #68]	@ movhi
 1803              	.L101:
 1804 0158 10BD     		pop	{r4, pc}
 1805              		.cfi_endproc
 1806              	.LFE70:
 1808 015a 00BF     		.section	.text.HAL_PCD_EP_SetStall,"ax",%progbits
 1809              		.align	2
 1810              		.global	HAL_PCD_EP_SetStall
 1811              		.thumb
 1812              		.thumb_func
 1814              	HAL_PCD_EP_SetStall:
 1815              	.LFB90:
ARM GAS  /tmp/cczGGbmv.s 			page 58


1002:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 1816              		.loc 1 1002 0
 1817              		.cfi_startproc
 1818              		@ args = 0, pretend = 0, frame = 0
 1819              		@ frame_needed = 0, uses_anonymous_args = 0
 1820              	.LVL175:
 1821 0000 38B5     		push	{r3, r4, r5, lr}
 1822              	.LCFI26:
 1823              		.cfi_def_cfa_offset 16
 1824              		.cfi_offset 3, -16
 1825              		.cfi_offset 4, -12
 1826              		.cfi_offset 5, -8
 1827              		.cfi_offset 14, -4
 1828              	.LVL176:
1005:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1829              		.loc 1 1005 0
 1830 0002 4AB2     		sxtb	r2, r1
 1831 0004 002A     		cmp	r2, #0
 1832 0006 05DA     		bge	.L112
1007:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1833              		.loc 1 1007 0
 1834 0008 01F07F03 		and	r3, r1, #127
 1835 000c 5B01     		lsls	r3, r3, #5
 1836 000e 2833     		adds	r3, r3, #40
 1837 0010 0344     		add	r3, r3, r0
 1838              	.LVL177:
 1839 0012 03E0     		b	.L113
 1840              	.LVL178:
 1841              	.L112:
1011:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1842              		.loc 1 1011 0
 1843 0014 4B01     		lsls	r3, r1, #5
 1844 0016 03F50A73 		add	r3, r3, #552
 1845 001a 0344     		add	r3, r3, r0
 1846              	.LVL179:
 1847              	.L113:
1014:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 1848              		.loc 1 1014 0
 1849 001c 0124     		movs	r4, #1
 1850 001e 9C70     		strb	r4, [r3, #2]
1015:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80U) == 0x80U);
 1851              		.loc 1 1015 0
 1852 0020 01F07F04 		and	r4, r1, #127
 1853 0024 1C70     		strb	r4, [r3]
1016:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 1854              		.loc 1 1016 0
 1855 0026 D20F     		lsrs	r2, r2, #31
 1856 0028 5A70     		strb	r2, [r3, #1]
1018:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPSetStall(hpcd->Instance , ep);
 1857              		.loc 1 1018 0
 1858 002a 90F82824 		ldrb	r2, [r0, #1064]	@ zero_extendqisi2
 1859 002e 012A     		cmp	r2, #1
 1860 0030 11D0     		beq	.L116
 1861 0032 0546     		mov	r5, r0
1018:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPSetStall(hpcd->Instance , ep);
 1862              		.loc 1 1018 0 is_stmt 0 discriminator 2
 1863 0034 0122     		movs	r2, #1
ARM GAS  /tmp/cczGGbmv.s 			page 59


 1864 0036 80F82824 		strb	r2, [r0, #1064]
1019:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if((ep_addr & 0x7FU) == 0U)
 1865              		.loc 1 1019 0 is_stmt 1 discriminator 2
 1866 003a 1946     		mov	r1, r3
 1867              	.LVL180:
 1868 003c 0068     		ldr	r0, [r0]
 1869              	.LVL181:
 1870 003e FFF7FEFF 		bl	USB_EPSetStall
 1871              	.LVL182:
1020:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 1872              		.loc 1 1020 0 discriminator 2
 1873 0042 24B9     		cbnz	r4, .L115
1022:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1874              		.loc 1 1022 0
 1875 0044 05F22C41 		addw	r1, r5, #1068
 1876 0048 2868     		ldr	r0, [r5]
 1877 004a FFF7FEFF 		bl	USB_EP0_OutStart
 1878              	.LVL183:
 1879              	.L115:
1024:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 1880              		.loc 1 1024 0
 1881 004e 0020     		movs	r0, #0
 1882 0050 85F82804 		strb	r0, [r5, #1064]
1026:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1883              		.loc 1 1026 0
 1884 0054 38BD     		pop	{r3, r4, r5, pc}
 1885              	.LVL184:
 1886              	.L116:
1018:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPSetStall(hpcd->Instance , ep);
 1887              		.loc 1 1018 0
 1888 0056 0220     		movs	r0, #2
 1889              	.LVL185:
1027:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 1890              		.loc 1 1027 0
 1891 0058 38BD     		pop	{r3, r4, r5, pc}
 1892              		.cfi_endproc
 1893              	.LFE90:
 1895 005a 00BF     		.section	.text.HAL_PCD_EP_ClrStall,"ax",%progbits
 1896              		.align	2
 1897              		.global	HAL_PCD_EP_ClrStall
 1898              		.thumb
 1899              		.thumb_func
 1901              	HAL_PCD_EP_ClrStall:
 1902              	.LFB91:
1036:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 1903              		.loc 1 1036 0
 1904              		.cfi_startproc
 1905              		@ args = 0, pretend = 0, frame = 0
 1906              		@ frame_needed = 0, uses_anonymous_args = 0
 1907              	.LVL186:
 1908 0000 10B5     		push	{r4, lr}
 1909              	.LCFI27:
 1910              		.cfi_def_cfa_offset 8
 1911              		.cfi_offset 4, -8
 1912              		.cfi_offset 14, -4
 1913              	.LVL187:
1039:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
ARM GAS  /tmp/cczGGbmv.s 			page 60


 1914              		.loc 1 1039 0
 1915 0002 4AB2     		sxtb	r2, r1
 1916 0004 002A     		cmp	r2, #0
 1917 0006 05DA     		bge	.L119
1041:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1918              		.loc 1 1041 0
 1919 0008 01F07F03 		and	r3, r1, #127
 1920 000c 5B01     		lsls	r3, r3, #5
 1921 000e 2833     		adds	r3, r3, #40
 1922 0010 0344     		add	r3, r3, r0
 1923              	.LVL188:
 1924 0012 03E0     		b	.L120
 1925              	.LVL189:
 1926              	.L119:
1045:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 1927              		.loc 1 1045 0
 1928 0014 4B01     		lsls	r3, r1, #5
 1929 0016 03F50A73 		add	r3, r3, #552
 1930 001a 0344     		add	r3, r3, r0
 1931              	.LVL190:
 1932              	.L120:
1048:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 1933              		.loc 1 1048 0
 1934 001c 0024     		movs	r4, #0
 1935 001e 9C70     		strb	r4, [r3, #2]
1049:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80U) == 0x80U);
 1936              		.loc 1 1049 0
 1937 0020 01F07F01 		and	r1, r1, #127
 1938              	.LVL191:
 1939 0024 1970     		strb	r1, [r3]
1050:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 1940              		.loc 1 1050 0
 1941 0026 D20F     		lsrs	r2, r2, #31
 1942              	.LVL192:
 1943 0028 5A70     		strb	r2, [r3, #1]
1052:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPClearStall(hpcd->Instance , ep);
 1944              		.loc 1 1052 0
 1945 002a 90F82824 		ldrb	r2, [r0, #1064]	@ zero_extendqisi2
 1946 002e 012A     		cmp	r2, #1
 1947 0030 0BD0     		beq	.L122
 1948 0032 0446     		mov	r4, r0
1052:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPClearStall(hpcd->Instance , ep);
 1949              		.loc 1 1052 0 is_stmt 0 discriminator 2
 1950 0034 0122     		movs	r2, #1
 1951 0036 80F82824 		strb	r2, [r0, #1064]
1053:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 1952              		.loc 1 1053 0 is_stmt 1 discriminator 2
 1953 003a 1946     		mov	r1, r3
 1954 003c 0068     		ldr	r0, [r0]
 1955              	.LVL193:
 1956 003e FFF7FEFF 		bl	USB_EPClearStall
 1957              	.LVL194:
1054:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 1958              		.loc 1 1054 0 discriminator 2
 1959 0042 0020     		movs	r0, #0
 1960 0044 84F82804 		strb	r0, [r4, #1064]
1056:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
ARM GAS  /tmp/cczGGbmv.s 			page 61


 1961              		.loc 1 1056 0 discriminator 2
 1962 0048 10BD     		pop	{r4, pc}
 1963              	.LVL195:
 1964              	.L122:
1052:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPClearStall(hpcd->Instance , ep);
 1965              		.loc 1 1052 0
 1966 004a 0220     		movs	r0, #2
 1967              	.LVL196:
1057:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 1968              		.loc 1 1057 0
 1969 004c 10BD     		pop	{r4, pc}
 1970              		.cfi_endproc
 1971              	.LFE91:
 1973 004e 00BF     		.section	.text.HAL_PCD_EP_Flush,"ax",%progbits
 1974              		.align	2
 1975              		.global	HAL_PCD_EP_Flush
 1976              		.thumb
 1977              		.thumb_func
 1979              	HAL_PCD_EP_Flush:
 1980              	.LFB92:
1066:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 1981              		.loc 1 1066 0
 1982              		.cfi_startproc
 1983              		@ args = 0, pretend = 0, frame = 0
 1984              		@ frame_needed = 0, uses_anonymous_args = 0
 1985              	.LVL197:
1067:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 1986              		.loc 1 1067 0
 1987 0000 90F82834 		ldrb	r3, [r0, #1064]	@ zero_extendqisi2
 1988 0004 012B     		cmp	r3, #1
 1989 0006 14D0     		beq	.L128
1066:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 1990              		.loc 1 1066 0 discriminator 2
 1991 0008 10B5     		push	{r4, lr}
 1992              	.LCFI28:
 1993              		.cfi_def_cfa_offset 8
 1994              		.cfi_offset 4, -8
 1995              		.cfi_offset 14, -4
 1996 000a 0446     		mov	r4, r0
1067:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 1997              		.loc 1 1067 0 discriminator 2
 1998 000c 0123     		movs	r3, #1
 1999 000e 80F82834 		strb	r3, [r0, #1064]
1069:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 2000              		.loc 1 1069 0 discriminator 2
 2001 0012 11F0800F 		tst	r1, #128
 2002 0016 05D0     		beq	.L126
1071:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 2003              		.loc 1 1071 0
 2004 0018 01F07F01 		and	r1, r1, #127
 2005              	.LVL198:
 2006 001c 0068     		ldr	r0, [r0]
 2007              	.LVL199:
 2008 001e FFF7FEFF 		bl	USB_FlushTxFifo
 2009              	.LVL200:
 2010 0022 02E0     		b	.L127
 2011              	.LVL201:
ARM GAS  /tmp/cczGGbmv.s 			page 62


 2012              	.L126:
1075:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 2013              		.loc 1 1075 0
 2014 0024 0068     		ldr	r0, [r0]
 2015              	.LVL202:
 2016 0026 FFF7FEFF 		bl	USB_FlushRxFifo
 2017              	.LVL203:
 2018              	.L127:
1078:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 2019              		.loc 1 1078 0
 2020 002a 0020     		movs	r0, #0
 2021 002c 84F82804 		strb	r0, [r4, #1064]
1080:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2022              		.loc 1 1080 0
 2023 0030 10BD     		pop	{r4, pc}
 2024              	.LVL204:
 2025              	.L128:
 2026              	.LCFI29:
 2027              		.cfi_def_cfa_offset 0
 2028              		.cfi_restore 4
 2029              		.cfi_restore 14
1067:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 2030              		.loc 1 1067 0
 2031 0032 0220     		movs	r0, #2
 2032              	.LVL205:
 2033 0034 7047     		bx	lr
 2034              		.cfi_endproc
 2035              	.LFE92:
 2037 0036 00BF     		.section	.text.HAL_PCD_ActivateRemoteWakeup,"ax",%progbits
 2038              		.align	2
 2039              		.global	HAL_PCD_ActivateRemoteWakeup
 2040              		.thumb
 2041              		.thumb_func
 2043              	HAL_PCD_ActivateRemoteWakeup:
 2044              	.LFB93:
1089:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return(USB_ActivateRemoteWakeup(hpcd->Instance));
 2045              		.loc 1 1089 0
 2046              		.cfi_startproc
 2047              		@ args = 0, pretend = 0, frame = 0
 2048              		@ frame_needed = 0, uses_anonymous_args = 0
 2049              	.LVL206:
 2050 0000 08B5     		push	{r3, lr}
 2051              	.LCFI30:
 2052              		.cfi_def_cfa_offset 8
 2053              		.cfi_offset 3, -8
 2054              		.cfi_offset 14, -4
1090:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2055              		.loc 1 1090 0
 2056 0002 0068     		ldr	r0, [r0]
 2057              	.LVL207:
 2058 0004 FFF7FEFF 		bl	USB_ActivateRemoteWakeup
 2059              	.LVL208:
1091:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 2060              		.loc 1 1091 0
 2061 0008 08BD     		pop	{r3, pc}
 2062              		.cfi_endproc
 2063              	.LFE93:
ARM GAS  /tmp/cczGGbmv.s 			page 63


 2065 000a 00BF     		.section	.text.HAL_PCD_DeActivateRemoteWakeup,"ax",%progbits
 2066              		.align	2
 2067              		.global	HAL_PCD_DeActivateRemoteWakeup
 2068              		.thumb
 2069              		.thumb_func
 2071              	HAL_PCD_DeActivateRemoteWakeup:
 2072              	.LFB94:
1099:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return(USB_DeActivateRemoteWakeup(hpcd->Instance));
 2073              		.loc 1 1099 0
 2074              		.cfi_startproc
 2075              		@ args = 0, pretend = 0, frame = 0
 2076              		@ frame_needed = 0, uses_anonymous_args = 0
 2077              	.LVL209:
 2078 0000 08B5     		push	{r3, lr}
 2079              	.LCFI31:
 2080              		.cfi_def_cfa_offset 8
 2081              		.cfi_offset 3, -8
 2082              		.cfi_offset 14, -4
1100:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2083              		.loc 1 1100 0
 2084 0002 0068     		ldr	r0, [r0]
 2085              	.LVL210:
 2086 0004 FFF7FEFF 		bl	USB_DeActivateRemoteWakeup
 2087              	.LVL211:
1101:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 2088              		.loc 1 1101 0
 2089 0008 08BD     		pop	{r3, pc}
 2090              		.cfi_endproc
 2091              	.LFE94:
 2093 000a 00BF     		.section	.text.HAL_PCD_GetState,"ax",%progbits
 2094              		.align	2
 2095              		.global	HAL_PCD_GetState
 2096              		.thumb
 2097              		.thumb_func
 2099              	HAL_PCD_GetState:
 2100              	.LFB95:
1127:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return hpcd->State;
 2101              		.loc 1 1127 0
 2102              		.cfi_startproc
 2103              		@ args = 0, pretend = 0, frame = 0
 2104              		@ frame_needed = 0, uses_anonymous_args = 0
 2105              		@ link register save eliminated.
 2106              	.LVL212:
1128:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2107              		.loc 1 1128 0
 2108 0000 90F82904 		ldrb	r0, [r0, #1065]	@ zero_extendqisi2
 2109              	.LVL213:
1129:./Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 2110              		.loc 1 1129 0
 2111 0004 7047     		bx	lr
 2112              		.cfi_endproc
 2113              	.LFE95:
 2115 0006 00BF     		.text
 2116              	.Letext0:
 2117              		.file 2 "/opt/toolchain/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/machine/_default_types.
 2118              		.file 3 "/opt/toolchain/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/sys/_stdint.h"
 2119              		.file 4 "Drivers/CMSIS/Device/Inc/stm32f103xb.h"
ARM GAS  /tmp/cczGGbmv.s 			page 64


 2120              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2121              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_usb.h"
 2122              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_pcd.h"
 2123              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_pcd_ex.h"
 2124              		.file 9 "Drivers/CMSIS/Inc/core_cm3.h"
ARM GAS  /tmp/cczGGbmv.s 			page 65


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f1xx_hal_pcd.c
     /tmp/cczGGbmv.s:20     .text.HAL_PCD_MspInit:00000000 $t
     /tmp/cczGGbmv.s:25     .text.HAL_PCD_MspInit:00000000 HAL_PCD_MspInit
     /tmp/cczGGbmv.s:39     .text.HAL_PCD_Init:00000000 $t
     /tmp/cczGGbmv.s:44     .text.HAL_PCD_Init:00000000 HAL_PCD_Init
     /tmp/cczGGbmv.s:223    .text.HAL_PCD_MspDeInit:00000000 $t
     /tmp/cczGGbmv.s:228    .text.HAL_PCD_MspDeInit:00000000 HAL_PCD_MspDeInit
     /tmp/cczGGbmv.s:241    .text.HAL_PCD_Start:00000000 $t
     /tmp/cczGGbmv.s:246    .text.HAL_PCD_Start:00000000 HAL_PCD_Start
     /tmp/cczGGbmv.s:297    .text.HAL_PCD_Stop:00000000 $t
     /tmp/cczGGbmv.s:302    .text.HAL_PCD_Stop:00000000 HAL_PCD_Stop
     /tmp/cczGGbmv.s:355    .text.HAL_PCD_DeInit:00000000 $t
     /tmp/cczGGbmv.s:360    .text.HAL_PCD_DeInit:00000000 HAL_PCD_DeInit
     /tmp/cczGGbmv.s:405    .text.HAL_PCD_DataOutStageCallback:00000000 $t
     /tmp/cczGGbmv.s:410    .text.HAL_PCD_DataOutStageCallback:00000000 HAL_PCD_DataOutStageCallback
     /tmp/cczGGbmv.s:423    .text.HAL_PCD_DataInStageCallback:00000000 $t
     /tmp/cczGGbmv.s:428    .text.HAL_PCD_DataInStageCallback:00000000 HAL_PCD_DataInStageCallback
     /tmp/cczGGbmv.s:441    .text.HAL_PCD_SetupStageCallback:00000000 $t
     /tmp/cczGGbmv.s:446    .text.HAL_PCD_SetupStageCallback:00000000 HAL_PCD_SetupStageCallback
     /tmp/cczGGbmv.s:459    .text.HAL_PCD_SOFCallback:00000000 $t
     /tmp/cczGGbmv.s:464    .text.HAL_PCD_SOFCallback:00000000 HAL_PCD_SOFCallback
     /tmp/cczGGbmv.s:477    .text.HAL_PCD_ResetCallback:00000000 $t
     /tmp/cczGGbmv.s:482    .text.HAL_PCD_ResetCallback:00000000 HAL_PCD_ResetCallback
     /tmp/cczGGbmv.s:495    .text.HAL_PCD_SuspendCallback:00000000 $t
     /tmp/cczGGbmv.s:500    .text.HAL_PCD_SuspendCallback:00000000 HAL_PCD_SuspendCallback
     /tmp/cczGGbmv.s:513    .text.HAL_PCD_ResumeCallback:00000000 $t
     /tmp/cczGGbmv.s:518    .text.HAL_PCD_ResumeCallback:00000000 HAL_PCD_ResumeCallback
     /tmp/cczGGbmv.s:531    .text.HAL_PCD_ISOOUTIncompleteCallback:00000000 $t
     /tmp/cczGGbmv.s:536    .text.HAL_PCD_ISOOUTIncompleteCallback:00000000 HAL_PCD_ISOOUTIncompleteCallback
     /tmp/cczGGbmv.s:549    .text.HAL_PCD_ISOINIncompleteCallback:00000000 $t
     /tmp/cczGGbmv.s:554    .text.HAL_PCD_ISOINIncompleteCallback:00000000 HAL_PCD_ISOINIncompleteCallback
     /tmp/cczGGbmv.s:567    .text.HAL_PCD_ConnectCallback:00000000 $t
     /tmp/cczGGbmv.s:572    .text.HAL_PCD_ConnectCallback:00000000 HAL_PCD_ConnectCallback
     /tmp/cczGGbmv.s:585    .text.HAL_PCD_DisconnectCallback:00000000 $t
     /tmp/cczGGbmv.s:590    .text.HAL_PCD_DisconnectCallback:00000000 HAL_PCD_DisconnectCallback
     /tmp/cczGGbmv.s:603    .text.HAL_PCD_DevConnect:00000000 $t
     /tmp/cczGGbmv.s:608    .text.HAL_PCD_DevConnect:00000000 HAL_PCD_DevConnect
     /tmp/cczGGbmv.s:655    .text.HAL_PCD_DevDisconnect:00000000 $t
     /tmp/cczGGbmv.s:660    .text.HAL_PCD_DevDisconnect:00000000 HAL_PCD_DevDisconnect
     /tmp/cczGGbmv.s:708    .text.HAL_PCD_SetAddress:00000000 $t
     /tmp/cczGGbmv.s:713    .text.HAL_PCD_SetAddress:00000000 HAL_PCD_SetAddress
     /tmp/cczGGbmv.s:760    .text.HAL_PCD_EP_Open:00000000 $t
     /tmp/cczGGbmv.s:765    .text.HAL_PCD_EP_Open:00000000 HAL_PCD_EP_Open
     /tmp/cczGGbmv.s:844    .text.HAL_PCD_EP_Close:00000000 $t
     /tmp/cczGGbmv.s:849    .text.HAL_PCD_EP_Close:00000000 HAL_PCD_EP_Close
     /tmp/cczGGbmv.s:923    .text.HAL_PCD_EP_Receive:00000000 $t
     /tmp/cczGGbmv.s:928    .text.HAL_PCD_EP_Receive:00000000 HAL_PCD_EP_Receive
     /tmp/cczGGbmv.s:992    .text.HAL_PCD_EP_GetRxCount:00000000 $t
     /tmp/cczGGbmv.s:997    .text.HAL_PCD_EP_GetRxCount:00000000 HAL_PCD_EP_GetRxCount
     /tmp/cczGGbmv.s:1018   .text.HAL_PCD_EP_Transmit:00000000 $t
     /tmp/cczGGbmv.s:1023   .text.HAL_PCD_EP_Transmit:00000000 HAL_PCD_EP_Transmit
     /tmp/cczGGbmv.s:1088   .text.PCD_EP_ISR_Handler:00000000 $t
     /tmp/cczGGbmv.s:1092   .text.PCD_EP_ISR_Handler:00000000 PCD_EP_ISR_Handler
     /tmp/cczGGbmv.s:1623   .text.HAL_PCD_IRQHandler:00000000 $t
     /tmp/cczGGbmv.s:1628   .text.HAL_PCD_IRQHandler:00000000 HAL_PCD_IRQHandler
     /tmp/cczGGbmv.s:1809   .text.HAL_PCD_EP_SetStall:00000000 $t
ARM GAS  /tmp/cczGGbmv.s 			page 66


     /tmp/cczGGbmv.s:1814   .text.HAL_PCD_EP_SetStall:00000000 HAL_PCD_EP_SetStall
     /tmp/cczGGbmv.s:1896   .text.HAL_PCD_EP_ClrStall:00000000 $t
     /tmp/cczGGbmv.s:1901   .text.HAL_PCD_EP_ClrStall:00000000 HAL_PCD_EP_ClrStall
     /tmp/cczGGbmv.s:1974   .text.HAL_PCD_EP_Flush:00000000 $t
     /tmp/cczGGbmv.s:1979   .text.HAL_PCD_EP_Flush:00000000 HAL_PCD_EP_Flush
     /tmp/cczGGbmv.s:2038   .text.HAL_PCD_ActivateRemoteWakeup:00000000 $t
     /tmp/cczGGbmv.s:2043   .text.HAL_PCD_ActivateRemoteWakeup:00000000 HAL_PCD_ActivateRemoteWakeup
     /tmp/cczGGbmv.s:2066   .text.HAL_PCD_DeActivateRemoteWakeup:00000000 $t
     /tmp/cczGGbmv.s:2071   .text.HAL_PCD_DeActivateRemoteWakeup:00000000 HAL_PCD_DeActivateRemoteWakeup
     /tmp/cczGGbmv.s:2094   .text.HAL_PCD_GetState:00000000 $t
     /tmp/cczGGbmv.s:2099   .text.HAL_PCD_GetState:00000000 HAL_PCD_GetState
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
USB_DisableGlobalInt
USB_CoreInit
USB_SetCurrentMode
USB_DevInit
USB_DevDisconnect
HAL_PCDEx_SetConnectionState
USB_DevConnect
USB_EnableGlobalInt
USB_StopDevice
USB_SetDevAddress
USB_ActivateEndpoint
USB_DeactivateEndpoint
USB_EPStartXfer
USB_ReadPMA
USB_WritePMA
USB_ReadInterrupts
USB_EPSetStall
USB_EP0_OutStart
USB_EPClearStall
USB_FlushTxFifo
USB_FlushRxFifo
USB_ActivateRemoteWakeup
USB_DeActivateRemoteWakeup
